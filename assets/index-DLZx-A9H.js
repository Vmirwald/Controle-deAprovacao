import{o as l,c as d,a as n,b as C,u as E,R as L,r as F,d as q,e as p,t as g,F as D,f as y,n as I,g as k,w as S,v as $,h as z,i as M,j as b,k as K,l as w,m as H,p as j,q as W,s as Y,x as J}from"./vue-vendor-Cjmj9WbD.js";import{i as Q,a as X,g as T,b as Z,o as x,c as h,d as u,q as V,w as B,s as ee,e as te}from"./vendor-DRRjDNnH.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}})();const f=(a,e)=>{const s=a.__vccOpts||a;for(const[o,t]of e)s[o]=t;return s},ae={id:"app"},se={class:"app-main"},oe={__name:"App",setup(a){return(e,s)=>(l(),d("div",ae,[n("main",se,[C(E(L))])]))}},re=f(oe,[["__scopeId","data-v-ebc920a2"]]),ne={name:"GenericCard",props:{title:{type:String,required:!1},showNewButton:{type:Boolean,default:!0}}},ie={class:"card generic-card"},le={class:"card-header d-flex justify-content-between align-items-center"},de={class:"mb-0"},ce={class:"card-body"},pe={key:0,class:"card-footer"};function he(a,e,s,o,t,r){return l(),d("div",ie,[n("div",le,[F(a.$slots,"title",{},()=>[n("h5",de,g(s.title),1)]),s.showNewButton?(l(),d("button",{key:0,class:"btn btn-sm btn-primary",onClick:e[0]||(e[0]=i=>a.$emit("newItem"))},e[1]||(e[1]=[n("i",{class:"fas fa-plus"},null,-1),q(" Novo ")]))):p("",!0)]),n("div",ce,[F(a.$slots,"content",{},()=>[e[2]||(e[2]=n("p",{class:"text-muted"},"Sem conteúdo disponível.",-1))])]),a.$slots.footer?(l(),d("div",pe,[F(a.$slots,"footer",{},void 0)])):p("",!0)])}const U=f(ne,[["render",he],["__scopeId","data-v-03dd9fa7"]]),ue={name:"ExpandableChart",props:{title:{type:String,default:"Meu Gráfico"},labels:{type:Array,required:!0},values:{type:Array,required:!0},colors:{type:Array,default:()=>["#4caf50","#2196f3","#FF0000","#FFC222"]},unitName:{type:String,default:"Unidades"},singularUnitName:{type:String,default:"Unidade"},totalText:{type:String,default:"Total Geral"}},data(){return{chartInstance:null}},watch:{values:{handler(){this.updateChart()},deep:!0},labels:{handler(){this.updateChart()},deep:!0}},mounted(){this.drawChart()},methods:{formatText(a,e=!1){if(e)return`${a} ${this.totalText}`;{const s=a===1?this.singularUnitName:this.unitName;return`${a} ${s}`}},drawChart(){const a=this.$refs.chartContainer;this.chartInstance=Q(a);const e=this.values.reduce((o,t)=>o+t,0),s={title:{text:this.title,left:"center",top:"5%"},tooltip:{trigger:"item",formatter:"{b}: {d}%"},legend:{orient:"horizontal",left:"5%",bottom:"1%",textStyle:{fontSize:14,color:"#333"},selectedMode:"multiple"},series:[{name:"Dados",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!0,position:"inside",formatter:"{c}",fontSize:12,fontWeight:"bold"},labelLine:{show:!0},emphasis:{label:{show:!0,fontSize:"14"}},data:this.labels.map((o,t)=>({value:this.values[t],name:o,itemStyle:{color:this.colors[t%this.colors.length]}}))}],graphic:{type:"text",left:"center",top:"center",style:{text:this.formatText(e,!0),fontSize:16,fontWeight:"bold",fill:"#333"}}};this.chartInstance.setOption(s),this.addInteractivity()},updateChart(){if(!this.chartInstance)return;const a=this.values.reduce((s,o)=>s+o,0),e=this.labels.map((s,o)=>({value:this.values[o],name:s,itemStyle:{color:this.colors[o%this.colors.length]}}));this.chartInstance.setOption({series:[{data:e}],graphic:{style:{text:this.formatText(a,!0)}}})},addInteractivity(){const a=()=>{const e=this.chartInstance.getOption().legend[0].selected,s=this.values.filter((t,r)=>e[this.labels[r]]),o=s.reduce((t,r)=>t+r,0);this.chartInstance.setOption({graphic:{style:{text:this.formatText(o,s.length===this.values.length)}}})};this.chartInstance.on("mouseover",e=>{if(e.seriesType==="pie"){const s=e.data.value;this.chartInstance.setOption({graphic:{style:{text:this.formatText(s)}}})}}),this.chartInstance.on("mouseout",()=>{const e=this.values.reduce((s,o)=>s+o,0);this.chartInstance.setOption({graphic:{style:{text:this.formatText(e,!0)}}})}),this.chartInstance.on("legendselectchanged",a),window.addEventListener("resize",()=>{this.chartInstance.resize()})}},beforeDestroy(){this.chartInstance&&this.chartInstance.dispose()}},me={ref:"chartContainer",style:{width:"100%",height:"400px"}};function ge(a,e,s,o,t,r){return l(),d("div",me,null,512)}const _=f(ue,[["render",ge],["__scopeId","data-v-7543a1f9"]]),fe={props:{headers:{type:Array,default:()=>[]},rows:{type:Array,default:()=>[]},descriptionKey:{type:String,default:"comments"},enableScroll:{type:Boolean,default:!0}},data(){return{tooltipVisible:!1,tooltipContent:"",filters:{},filteredRows:[]}},computed:{limitedRows(){return this.enableScroll?this.filteredRows.slice(0,10):this.filteredRows}},watch:{rows:{handler(a){this.filteredRows=[...a]},immediate:!0}},methods:{getColumnAlignment(a){const e=this.headers.find(s=>s.value===a);return(e==null?void 0:e.align)||"text-center"},applyFilters(){this.filteredRows=this.rows.filter(a=>Object.keys(this.filters).every(e=>{var t,r;const s=((t=this.filters[e])==null?void 0:t.toLowerCase())||"";return(((r=a[e])==null?void 0:r.toString().toLowerCase())||"").includes(s)}))}}},ve={class:"table table-striped table-hover"},be={key:0,class:"mt-2"},Ce=["onUpdate:modelValue"],De=["onClick"],ye={key:0},we=["title"],_e={key:1},Ae={key:0},Ue=["colspan"],Se={class:"tooltip-content"};function Te(a,e,s,o,t,r){var i;return l(),d("div",{class:"table-responsive",style:k({maxHeight:s.enableScroll?"400px":"none",overflowY:s.enableScroll?"auto":"visible"})},[n("table",ve,[n("thead",null,[n("tr",null,[(l(!0),d(D,null,y(s.headers,c=>(l(),d("th",{key:c.value,class:I(c.align||"text-center"),style:k({verticalAlign:c.verticalAlign||"middle"})},[q(g(c.text)+" ",1),c.filterable?(l(),d("div",be,[S(n("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":v=>t.filters[c.value]=v,onInput:e[0]||(e[0]=(...v)=>r.applyFilters&&r.applyFilters(...v)),placeholder:"Filtrar"},null,40,Ce),[[$,t.filters[c.value]]])])):p("",!0)],6))),128))])]),n("tbody",null,[(l(!0),d(D,null,y(r.limitedRows,(c,v)=>(l(),d("tr",{key:v,onClick:A=>a.$emit("rowClick",c)},[(l(!0),d(D,null,y(c,(A,N)=>(l(),d("td",{key:N,class:I(r.getColumnAlignment(N))},[N===s.descriptionKey&&A?(l(),d("span",ye,[n("span",{class:"info-icon",title:A},e[3]||(e[3]=[n("i",{class:"fas fa-info-circle"},null,-1)]),8,we)])):(l(),d("span",_e,g(A),1))],2))),128))],8,De))),128)),r.limitedRows.length===0?(l(),d("tr",Ae,[n("td",{colspan:((i=s.headers)==null?void 0:i.length)||1,class:"text-center"},"Nenhum dado disponível",8,Ue)])):p("",!0)])]),t.tooltipVisible?(l(),d("div",{key:0,class:"tooltip-container",onClick:e[2]||(e[2]=c=>t.tooltipVisible=!1)},[n("div",Se,[n("p",null,g(t.tooltipContent),1),n("button",{class:"btn btn-primary",onClick:e[1]||(e[1]=c=>t.tooltipVisible=!1)},"Fechar")])])):p("",!0)],4)}const R=f(fe,[["render",Te],["__scopeId","data-v-be2a7ff6"]]),Ne={apiKey:"AIzaSyB3-kGIIrzMp3il9BMmB7e9YIw8MVi7eqY",authDomain:"carreiras-usp.firebaseapp.com",databaseURL:"https://carreiras-usp-default-rtdb.firebaseio.com",projectId:"carreiras-usp",storageBucket:"carreiras-usp.firebasestorage.app",messagingSenderId:"870850312201",appId:"1:870850312201:web:edc7a5a5e757c9187620d8"},P=X(Ne);T(P);const m=Z(P),Fe={class:"container-fluid layout-view py-0"},Ie={class:"title-container"},$e={class:"dropdown-container"},Re=["value"],ke={class:"row"},Ve={key:0,class:"col-md-12"},Be={class:"row gx-3"},qe={class:"col-md-6"},xe={class:"mb-3"},Pe={class:"d-flex flex-wrap gap-2"},Ge=["onClick"],Oe={class:"row"},Ee={class:"col-md-12"},Le={class:"row"},ze={class:"col-md-6"},Me={class:"col-md-6"},Ke={class:"col-md-6"},He={class:"mb-3 dropdown"},je={class:"btn btn-primary dropdown-toggle",type:"button",id:"dropdownUnidadeButton","data-bs-toggle":"dropdown","aria-expanded":"false"},We={class:"dropdown-menu","aria-labelledby":"dropdownUnidadeButton"},Ye=["onClick"],Je={key:0},Qe={class:"row"},Xe={class:"col-md-12"},Ze={class:"row"},et={class:"col-md-6"},tt={class:"col-md-6"},at={key:1,class:"text-center text-muted"},st={name:"DashBoardComponent",components:{GenericCard:U,GenericGraph:_,GenericTable2:R},data(){return{graphKeyCongregacao:1,graphKeyDepartamentos:2,temas:[],CampusDropdown:[],selectedCampus:[],allCampi:[],selectedUnidade:"Todas",uniqueUnidadeSiglas:[],selectedTema:"",votacoesCongregacao:[],votacoesDepartamentos:[],graphDataCongregacao:[0,0,0],graphDataDepartamentos:[0,0,0],totalUnidades:0,totalDepartamentos:0,unidades:[],tableHeadersUnidades:[{text:"Sigla",value:"Sigla",filterable:!0},{text:"Aprovado",value:"Aprovado",filterable:!1},{text:"Favoráveis",value:"Favoráveis",filterable:!1},{text:"Contrários",value:"Contrários",filterable:!1},{text:"Abstenções",value:"Abstenções",filterable:!1}],tableHeadersDepartamentos:[{text:"Nome",value:"Nome",filterable:!0},{text:"Aprovado",value:"Aprovado",filterable:!1},{text:"Favoráveis",value:"Favoráveis",filterable:!1},{text:"Contrários",value:"Contrários",filterable:!1},{text:"Abstenções",value:"Abstenções",filterable:!1}],Comentarios:"Comentários",tableRowsUnidades:[],tableRowsDepartamentos:[]}},computed:{hasData(){return a=>a&&a.length>0},graphDataFormatted(){const a=this.unidades.filter(t=>this.selectedCampus.includes(t.Campus)).length,e=this.selectedUnidade==="Todas"?this.departamentos.length:this.departamentos.filter(t=>t.UnidadeID===this.selectedUnidade).length,s=[this.graphDataCongregacao[0]||0,this.graphDataCongregacao[1]||0,a-(this.graphDataCongregacao[0]||0)-(this.graphDataCongregacao[2]||0),this.graphDataCongregacao[2]||0,this.totalUnidades],o=[this.graphDataDepartamentos[0]||0,this.graphDataDepartamentos[1]||0,e-(this.graphDataDepartamentos[0]||0)-(this.graphDataDepartamentos[2]||0),this.graphDataDepartamentos[2]||0];return[s,o]}},watch:{selectedCampus:{handler(a){a.length===0&&this.selectedCampus.length!==this.allCampi.length&&(this.selectedCampus=[...this.allCampi]),this.filterTableRowsByCampus(a),this.calculateGraphDataCongregacao()},immediate:!0,deep:!0},selectedUnidade:{handler(a){a==="Todas"?this.filterTableRowsByUnidade("Todas"):a&&this.uniqueUnidadeSiglas.includes(a)&&(this.filterTableRowsByUnidade(a),this.calculateGraphDataDepartamentos())},immediate:!0},selectedTema:{handler(a){a&&this.loadDashboardData()},immediate:!0}},methods:{selectUnidade(a){this.selectedUnidade=a},toggleCampusSelection(a){this.selectedCampus.includes(a)?this.selectedCampus=this.selectedCampus.filter(e=>e!==a):this.selectedCampus.push(a)},async fetchTemas(){try{const a=await h(u(m,"Temas"));this.temas=a.docs.map(e=>({id:e.id,...e.data()}))}catch(a){console.error("Erro ao buscar temas:",a)}},async loadDashboardData(){try{await this.fetchVotacoes(),this.calculateGraphDataCongregacao(),this.calculateGraphDataDepartamentos(),this.populateTables(),this.populateDepartamentosTable()}catch(a){console.error("Erro ao carregar dados do dashboard:",a)}},async fetchVotacoes(){try{const a=await h(V(u(m,"VotacoesCongregacao"),B("temaID","==",this.selectedTema)));this.votacoesCongregacao=a.docs.map(o=>({id:o.id,...o.data()}));const e=await h(V(u(m,"VotacoesDepartamentos"),B("temaID","==",this.selectedTema)));this.votacoesDepartamentos=e.docs.map(o=>({id:o.id,...o.data()}));const s=await h(u(m,"Unidades"));this.unidades=s.docs.map(o=>({id:o.id,...o.data()}))}catch(a){console.error("Erro ao buscar votações ou unidades:",a)}},async fetchTotalUnidades(){try{const a=await h(u(m,"Unidades"));this.totalUnidades=a.size}catch(a){console.error("Erro ao buscar total de unidades:",a)}},async fetchTotalDepartamentos(){try{const a=await h(u(m,"Departamentos"));this.totalDepartamentos=a.size}catch(a){console.error("Erro ao buscar total de unidades:",a)}},calculateGraphDataCongregacao(){const a=this.tableRowsUnidades.filter(o=>o.Aprovado==="Sim").length,e=this.tableRowsUnidades.filter(o=>o.Aprovado==="Não"&&o.Comentários.trim()!=="").length,s=this.tableRowsUnidades.filter(o=>o.Aprovado==="Não").length;this.graphDataCongregacao=[a,e,s,this.tableRowsUnidades.length-a-e-s],this.graphKeyCongregacao++},calculateGraphDataDepartamentos(){const a=this.tableRowsDepartamentos.filter(o=>o.Aprovado==="Sim").length,e=this.tableRowsDepartamentos.filter(o=>o.Aprovado==="Não"&&o.Comentários.trim()!=="").length,s=this.tableRowsDepartamentos.filter(o=>o.Aprovado==="Não").length;this.graphDataDepartamentos=[a,e,s,this.tableRowsDepartamentos.length-a-e,-s],this.graphKeyDepartamentos++},populateTables(){const a=new Set;this.CampusDropdown=this.votacoesCongregacao.map(e=>{const s=this.unidades.find(o=>o.id===e.unidadeID);return s?s.Campus:null}).filter(e=>e&&!a.has(e)?(a.add(e),!0):!1).map(e=>({Campus:e})),this.allCampi=this.CampusDropdown.map(e=>e.Campus),this.selectedCampus=[...this.allCampi],this.filterTableRowsByCampus(this.selectedCampus),this.calculateGraphDataCongregacao()},filterTableRowsByCampus(a){this.tableRowsUnidades=this.votacoesCongregacao.map(e=>{var o,t,r;const s=this.unidades.find(i=>i.id===e.unidadeID);return{Campus:s?s.Campus:"N/A",Sigla:s?s.Sigla:"N/A",Aprovado:e.Aprovado||"N/A",Apoio:e.Apoio||"N/A",Favoráveis:((o=e.Placar)==null?void 0:o.Favoraveis)||0,Contrários:((t=e.Placar)==null?void 0:t.Contrarios)||0,Abstenções:((r=e.Placar)==null?void 0:r.Abstencoes)||0,Comentários:e.Comentarios||""}}).filter(e=>a.includes(e.Campus)).map(e=>({Sigla:e.Sigla,Aprovado:e.Aprovado,Favoráveis:e.Favoráveis,Contrários:e.Contrários,Abstenções:e.Abstenções,Comentários:e.Comentários})),this.calculateGraphDataCongregacao()},populateDepartamentosTable(){const a=new Set;this.tableRowsDepartamentos=this.votacoesDepartamentos.map(e=>{var t,r,i;const s=this.departamentos.find(c=>c.id===e.dptID),o=this.unidades.find(c=>c.id===(s==null?void 0:s.UnidadeID));return o&&o.Sigla&&a.add(o.Sigla),{Nome:s?s.Nome:"N/A",Aprovado:e.Aprovado||"N/A",Favoráveis:((t=e.Placar)==null?void 0:t.Favoraveis)||0,Contrários:((r=e.Placar)==null?void 0:r.Contrarios)||0,Abstenções:((i=e.Placar)==null?void 0:i.Abstencoes)||0,Comentários:e.Comentarios||""}}),this.uniqueUnidadeSiglas=["Todas",...Array.from(a)],(!this.selectedUnidade||!this.uniqueUnidadeSiglas.includes(this.selectedUnidade))&&(this.selectedUnidade="Todas"),this.calculateGraphDataDepartamentos()},filterTableRowsByUnidade(a){a==="Todas"?this.tableRowsDepartamentos=this.votacoesDepartamentos.map(e=>{var o,t,r;const s=this.departamentos.find(i=>i.id===e.dptID);return{Nome:s?s.Nome:"N/A",Sigla:s?s.UnidadeID:"N/A",Aprovado:e.Aprovado||"N/A",Favoráveis:((o=e.Placar)==null?void 0:o.Favoraveis)||0,Contrários:((t=e.Placar)==null?void 0:t.Contrarios)||0,Abstenções:((r=e.Placar)==null?void 0:r.Abstencoes)||0,Comentários:e.Comentarios||""}}):this.tableRowsDepartamentos=this.votacoesDepartamentos.map(e=>{var o,t,r;const s=this.departamentos.find(i=>i.id===e.dptID);return{Nome:s?s.Nome:"N/A",Sigla:s?s.UnidadeID:"N/A",Aprovado:e.Aprovado||"N/A",Favoráveis:((o=e.Placar)==null?void 0:o.Favoraveis)||0,Contrários:((t=e.Placar)==null?void 0:t.Contrarios)||0,Abstenções:((r=e.Placar)==null?void 0:r.Abstencoes)||0,Comentários:e.Comentarios||""}}).filter(e=>e.Sigla===a),this.tableRowsDepartamentos=this.tableRowsDepartamentos.map(e=>({Nome:e.Nome,Aprovado:e.Aprovado,Favoráveis:e.Favoráveis,Contrários:e.Contrários,Abstenções:e.Abstenções,Comentários:e.Comentários})),this.calculateGraphDataDepartamentos()},async fetchDepartamentosData(){try{const a=await h(u(m,"Departamentos"));this.departamentos=a.docs.map(o=>({id:o.id,...o.data()}));const e=await h(u(m,"Unidades"));this.unidades=e.docs.map(o=>({id:o.id,...o.data()}));const s=await h(u(m,"VotacoesDepartamentos"));this.votacoesDepartamentos=s.docs.map(o=>({id:o.id,...o.data()})),this.populateDepartamentosTable()}catch(a){console.error("Erro ao buscar dados dos departamentos:",a)}}},async mounted(){await this.fetchTemas(),await this.fetchTotalUnidades(),await this.fetchTotalDepartamentos(),await this.fetchDepartamentosData(),await this.fetchVotacoes(),this.filterTableRowsByCampus(this.selectedCampus),this.temas.length>0&&(this.selectedTema=this.temas[0].id)}},ot=Object.assign(st,{setup(a){const e=T(),s=z(!1);M(()=>{x(e,t=>{s.value=!!t})});function o(){ee(e).then(()=>{alert("Você saiu com sucesso!"),window.location.href="/login"}).catch(t=>{console.error("Erro ao sair:",t.message)})}return(t,r)=>(l(),d("div",Fe,[C(U,{showNewButton:!1},{title:b(()=>[n("div",Ie,[n("div",$e,[S(n("select",{id:"tema-dropdown",class:"form-select","onUpdate:modelValue":r[0]||(r[0]=i=>t.selectedTema=i)},[(l(!0),d(D,null,y(t.temas,(i,c)=>(l(),d("option",{key:c,value:i.id},g(i.Titulo),9,Re))),128))],512),[[K,t.selectedTema]])]),s.value?(l(),d("button",{key:0,class:"logout-button",onClick:o}," Sair ")):p("",!0)])]),content:b(()=>[n("div",ke,[t.selectedTema?(l(),d("div",Ve,[n("div",Be,[n("div",qe,[C(U,{showNewButton:!1},{title:b(()=>[n("div",xe,[n("div",Pe,[(l(!0),d(D,null,y(t.CampusDropdown,(i,c)=>(l(),d("button",{key:c,class:I(["btn","btn-outline-primary",{"active btn-primary":t.selectedCampus.includes(i.Campus)}]),onClick:v=>t.toggleCampusSelection(i.Campus)},g(i.Campus),11,Ge))),128))])])]),content:b(()=>[n("div",Oe,[n("div",Ee,[n("div",Le,[n("div",ze,[t.graphDataCongregacao.length?(l(),w(_,{key:t.graphKeyCongregacao,title:"Tramitação nas Unidades",labels:["Aprovaram Texto","Não Aprovaram","Faltam Posicionar"],values:[t.graphDataFormatted[0][0],t.graphDataFormatted[0][3],t.graphDataFormatted[0][2]],colors:["#4caf50","#FF0000","#FFC222"],unitName:"Unidades",singularUnitName:"Unidade",totalText:"Unidades"},null,8,["values"])):p("",!0)]),n("div",Me,[t.graphDataCongregacao.length?(l(),w(_,{key:t.graphKeyCongregacao,title:"Aprovação nas Unidades",labels:["Aprovaram Texto","Apoiam"],values:[t.graphDataFormatted[0][0],t.graphDataFormatted[0][1]],colors:["#4caf50","#256A99"],unitName:"Unidades",singularUnitName:"Unidade",totalText:"Unidades"},null,8,["values"])):p("",!0)])]),C(R,{headers:t.tableHeadersUnidades,rows:t.tableRowsUnidades,"description-key":"Comentários"},null,8,["headers","rows"])])])]),_:1})]),n("div",Ke,[C(U,{showNewButton:!1},{title:b(()=>[n("div",He,[n("button",je,g(t.selectedUnidade==="Todas"?"Selecione a Unidade":t.selectedUnidade),1),n("ul",We,[n("li",null,[(l(!0),d(D,null,y(t.uniqueUnidadeSiglas,i=>(l(),d("button",{key:i,class:"dropdown-item",onClick:c=>t.selectUnidade(i)},g(i),9,Ye))),128))])])])]),content:b(()=>[t.tableRowsDepartamentos.length?(l(),d("div",Je,[n("div",Qe,[n("div",Xe,[n("div",Ze,[n("div",et,[t.graphDataDepartamentos.length?(l(),w(_,{key:t.graphKeyDepartamentos,title:"Tramitação nos Departamentos",labels:["Aprovaram Texto","Faltam Posicionar","Não Aprovaram "],values:[t.graphDataFormatted[1][0],t.graphDataFormatted[1][2],t.graphDataFormatted[1][3]],colors:["#4caf50","#FFC222","#FF0000"],unitName:"Departamentos",singularUnitName:"Departamento",totalText:"Departamentos"},null,8,["values"])):p("",!0)]),n("div",tt,[t.graphDataDepartamentos.length?(l(),w(_,{key:t.graphKeyDepartamentos,title:"Aprovação nos Departamentos",labels:["Aprovaram Texto","Apoiam"],values:[t.graphDataFormatted[1][0],t.graphDataFormatted[1][1]],colors:["#4caf50","#256A99"],unitName:"Departamentos",singularUnitName:"Departamento",totalText:"Departamentos"},null,8,["values"])):p("",!0)])]),C(R,{headers:t.tableHeadersDepartamentos,rows:t.tableRowsDepartamentos,"description-key":"Comentários"},null,8,["headers","rows"])])])])):(l(),d("p",at,"Nenhum dado disponível para Departamentos."))]),_:1})])])])):p("",!0)])]),_:1})]))}}),rt=f(ot,[["__scopeId","data-v-59ac51ed"]]),nt={name:"DashBoardView",components:{DashBoardComponent:rt}};function it(a,e,s,o,t,r){const i=H("DashBoardComponent");return l(),w(i)}const lt=f(nt,[["render",it]]),dt={data(){return{email:"",password:"",errorMessage:""}},methods:{async login(){const a=T();try{await te(a,this.email,this.password),this.$router.push("/")}catch(e){this.errorMessage="Erro ao fazer login: "+e.message}}}},ct={class:"login-page"},pt={key:0};function ht(a,e,s,o,t,r){return l(),d("div",ct,[e[6]||(e[6]=n("h1",null,"Login",-1)),n("form",{onSubmit:e[2]||(e[2]=j((...i)=>r.login&&r.login(...i),["prevent"]))},[n("div",null,[e[3]||(e[3]=n("label",{for:"email"},"E-mail",-1)),S(n("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=i=>t.email=i),required:""},null,512),[[$,t.email]])]),n("div",null,[e[4]||(e[4]=n("label",{for:"password"},"Senha",-1)),S(n("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=i=>t.password=i),required:""},null,512),[[$,t.password]])]),e[5]||(e[5]=n("button",{type:"submit"},"Entrar",-1))],32),t.errorMessage?(l(),d("p",pt,g(t.errorMessage),1)):p("",!0)])}const ut=f(dt,[["render",ht]]),G=W({history:Y(),routes:[{path:"/login",name:"Login",component:ut},{path:"/",name:"Dash",component:lt,meta:{requiresAuth:!0}}]});G.beforeEach((a,e,s)=>{const o=T();a.matched.some(r=>r.meta.requiresAuth)?x(o,r=>{r?s():s("/login")}):s()});const O=J(re);O.use(G);O.mount("#app");
