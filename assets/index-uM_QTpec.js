import{r as $,o as L,a as i,c as l,b as n,d as D,w as C,u as k,e as h,f as I,R as E,g as O,h as S,t as v,F as y,i as w,n as x,j as z,k as T,v as F,l as U,m as M,p as A,q as K,s as H,x as j,y as W}from"./vue-vendor-CaE-17CA.js";import{g as N,o as B,s as Y,i as J,a as Q,b as X,c as m,d as g,q as R,w as V,e as Z}from"./vendor-DRRjDNnH.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(a){if(a.ep)return;a.ep=!0;const r=s(a);fetch(a.href,r)}})();const _=(t,e)=>{const s=t.__vccOpts||t;for(const[o,a]of e)s[o]=a;return s},ee={id:"app"},te={class:"app-header"},ae={class:"app-nav"},se={class:"app-main"},oe={__name:"App",setup(t){const e=N(),s=$(!1);L(()=>{B(e,a=>{s.value=!!a})});function o(){Y(e).then(()=>{alert("Você saiu com sucesso!"),window.location.href="/login"}).catch(a=>{console.error("Erro ao sair:",a.message)})}return(a,r)=>(i(),l("div",ee,[n("header",te,[n("nav",ae,[D(k(E),{to:"/",class:"nav-link"},{default:C(()=>r[0]||(r[0]=[I("Dashboard")])),_:1}),s.value?(i(),l("button",{key:0,class:"logout-button",onClick:o}," Sair ")):h("",!0)])]),n("main",se,[D(k(O))])]))}},re=_(oe,[["__scopeId","data-v-4aff2a07"]]),ne={name:"GenericCard",props:{title:{type:String,required:!1},showNewButton:{type:Boolean,default:!0}}},ie={class:"card generic-card"},le={class:"card-header d-flex justify-content-between align-items-center"},de={class:"mb-0"},ce={class:"card-body"},pe={key:0,class:"card-footer"};function he(t,e,s,o,a,r){return i(),l("div",ie,[n("div",le,[S(t.$slots,"title",{},()=>[n("h5",de,v(s.title),1)]),s.showNewButton?(i(),l("button",{key:0,class:"btn btn-sm btn-primary",onClick:e[0]||(e[0]=d=>t.$emit("newItem"))},e[1]||(e[1]=[n("i",{class:"fas fa-plus"},null,-1),I(" Novo ")]))):h("",!0)]),n("div",ce,[S(t.$slots,"content",{},()=>[e[2]||(e[2]=n("p",{class:"text-muted"},"Sem conteúdo disponível.",-1))])]),t.$slots.footer?(i(),l("div",pe,[S(t.$slots,"footer",{},void 0)])):h("",!0)])}const ue=_(ne,[["render",he],["__scopeId","data-v-03dd9fa7"]]),me={name:"ExpandableChart",props:{title:{type:String,default:"Meu Gráfico"},labels:{type:Array,required:!0},values:{type:Array,required:!0},colors:{type:Array,default:()=>["#4caf50","#2196f3","#FF0000","#FFC222"]},unitName:{type:String,default:"Unidades"},singularUnitName:{type:String,default:"Unidade"},totalText:{type:String,default:"Total Geral"}},data(){return{chartInstance:null}},watch:{values:{handler(){this.updateChart()},deep:!0},labels:{handler(){this.updateChart()},deep:!0}},mounted(){this.drawChart()},methods:{formatText(t,e=!1){if(e)return`${t} ${this.totalText}`;{const s=t===1?this.singularUnitName:this.unitName;return`${t} ${s}`}},drawChart(){const t=this.$refs.chartContainer;this.chartInstance=J(t);const e=this.values.reduce((o,a)=>o+a,0),s={title:{text:this.title,left:"center",top:"5%"},tooltip:{trigger:"item",formatter:"{b}: {d}%"},legend:{orient:"horizontal",left:"5%",bottom:"1%",textStyle:{fontSize:14,color:"#333"},selectedMode:"multiple"},series:[{name:"Dados",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!1},emphasis:{label:{show:!1,fontSize:"20",fontWeight:"bold"}},labelLine:{show:!0},data:this.labels.map((o,a)=>({value:this.values[a],name:o,itemStyle:{color:this.colors[a%this.colors.length]}}))}],graphic:{type:"text",left:"center",top:"center",style:{text:this.formatText(e,!0),fontSize:16,fontWeight:"bold",fill:"#333"}}};this.chartInstance.setOption(s),this.addInteractivity()},updateChart(){if(!this.chartInstance)return;const t=this.values.reduce((s,o)=>s+o,0),e=this.labels.map((s,o)=>({value:this.values[o],name:s,itemStyle:{color:this.colors[o%this.colors.length]}}));this.chartInstance.setOption({series:[{data:e}],graphic:{style:{text:this.formatText(t,!0)}}})},addInteractivity(){const t=()=>{const e=this.chartInstance.getOption().legend[0].selected,s=this.values.filter((a,r)=>e[this.labels[r]]),o=s.reduce((a,r)=>a+r,0);this.chartInstance.setOption({graphic:{style:{text:this.formatText(o,s.length===this.values.length)}}})};this.chartInstance.on("legendselectchanged",t),this.chartInstance.on("mouseover",e=>{if(e.seriesType==="pie"){const s=e.data.value;this.chartInstance.setOption({graphic:{style:{text:this.formatText(s)}}})}}),this.chartInstance.on("mouseout",t),window.addEventListener("resize",()=>{this.chartInstance.resize()})}},beforeDestroy(){this.chartInstance&&this.chartInstance.dispose()}},ge={ref:"chartContainer",style:{width:"100%",height:"400px"}};function fe(t,e,s,o,a,r){return i(),l("div",ge,null,512)}const ve=_(me,[["render",fe],["__scopeId","data-v-3ff457eb"]]),be={props:{headers:{type:Array,default:()=>[]},rows:{type:Array,default:()=>[]},descriptionKey:{type:String,default:"comments"}},data(){return{tooltipVisible:!1,tooltipContent:"",filters:{},filteredRows:[]}},watch:{rows:{handler(t){this.filteredRows=[...t]},immediate:!0}},methods:{getColumnAlignment(t){const e=this.headers.find(s=>s.value===t);return(e==null?void 0:e.align)||"text-center"},applyFilters(){this.filteredRows=this.rows.filter(t=>Object.keys(this.filters).every(e=>{var a,r;const s=((a=this.filters[e])==null?void 0:a.toLowerCase())||"";return(((r=t[e])==null?void 0:r.toString().toLowerCase())||"").includes(s)}))}}},Ce={class:"table-responsive"},De={class:"table table-striped table-hover"},_e={key:0,class:"mt-2"},ye=["onUpdate:modelValue"],we=["onClick"],Ae={key:0},Ue=["title"],Te={key:1},Ne={key:0},Se=["colspan"],xe={class:"tooltip-content"};function Fe(t,e,s,o,a,r){var d;return i(),l("div",Ce,[n("table",De,[n("thead",null,[n("tr",null,[(i(!0),l(y,null,w(s.headers,c=>(i(),l("th",{key:c.value,class:x(c.align||"text-center"),style:z({verticalAlign:c.verticalAlign||"middle"})},[I(v(c.text)+" ",1),c.filterable?(i(),l("div",_e,[T(n("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":u=>a.filters[c.value]=u,onInput:e[0]||(e[0]=(...u)=>r.applyFilters&&r.applyFilters(...u)),placeholder:"Filtrar"},null,40,ye),[[F,a.filters[c.value]]])])):h("",!0)],6))),128))])]),n("tbody",null,[(i(!0),l(y,null,w(a.filteredRows,(c,u)=>(i(),l("tr",{key:u,onClick:p=>t.$emit("rowClick",c)},[(i(!0),l(y,null,w(c,(p,b)=>(i(),l("td",{key:b,class:x(r.getColumnAlignment(b))},[b===s.descriptionKey&&p?(i(),l("span",Ae,[n("span",{class:"info-icon",title:p},e[3]||(e[3]=[n("i",{class:"fas fa-info-circle"},null,-1)]),8,Ue)])):(i(),l("span",Te,v(p),1))],2))),128))],8,we))),128)),a.filteredRows.length===0?(i(),l("tr",Ne,[n("td",{colspan:((d=s.headers)==null?void 0:d.length)||1,class:"text-center"},"Nenhum dado disponível",8,Se)])):h("",!0)])]),a.tooltipVisible?(i(),l("div",{key:0,class:"tooltip-container",onClick:e[2]||(e[2]=c=>a.tooltipVisible=!1)},[n("div",xe,[n("p",null,v(a.tooltipContent),1),n("button",{class:"btn btn-primary",onClick:e[1]||(e[1]=c=>a.tooltipVisible=!1)},"Fechar")])])):h("",!0)])}const Ie=_(be,[["render",Fe],["__scopeId","data-v-2f895af4"]]),ke={apiKey:"AIzaSyB3-kGIIrzMp3il9BMmB7e9YIw8MVi7eqY",authDomain:"carreiras-usp.firebaseapp.com",databaseURL:"https://carreiras-usp-default-rtdb.firebaseio.com",projectId:"carreiras-usp",storageBucket:"carreiras-usp.firebasestorage.app",messagingSenderId:"870850312201",appId:"1:870850312201:web:edc7a5a5e757c9187620d8"},G=Q(ke);N(G);const f=X(G),Re={name:"DashBoardComponent",components:{GenericCard:ue,GenericGraph:ve,GenericTable2:Ie},data(){return{graphKeyCongregacao:1,graphKeyDepartamentos:2,temas:[],CampusDropdown:[],selectedCampus:[],allCampi:[],selectedUnidade:"Todas",uniqueUnidadeSiglas:[],selectedTema:"",votacoesCongregacao:[],votacoesDepartamentos:[],graphDataCongregacao:[0,0,0],graphDataDepartamentos:[0,0,0],totalUnidades:0,totalDepartamentos:0,unidades:[],tableHeadersUnidades:[{text:"Sigla",value:"Sigla",filterable:!0},{text:"Aprovado",value:"Aprovado",filterable:!1},{text:"Favoráveis",value:"Favoráveis",filterable:!1},{text:"Contrários",value:"Contrários",filterable:!1},{text:"Abstenções",value:"Abstenções",filterable:!1}],tableHeadersDepartamentos:[{text:"Nome",value:"Nome",filterable:!0},{text:"Aprovado",value:"Aprovado",filterable:!1},{text:"Favoráveis",value:"Favoráveis",filterable:!1},{text:"Contrários",value:"Contrários",filterable:!1},{text:"Abstenções",value:"Abstenções",filterable:!1}],Comentarios:"Comentários",tableRowsUnidades:[],tableRowsDepartamentos:[]}},computed:{hasData(){return t=>t&&t.length>0},graphDataFormatted(){const t=this.unidades.filter(a=>this.selectedCampus.includes(a.Campus)).length,e=this.selectedUnidade==="Todas"?this.departamentos.length:this.departamentos.filter(a=>a.UnidadeID===this.selectedUnidade).length,s=[this.graphDataCongregacao[0]||0,this.graphDataCongregacao[1]||0,t-(this.graphDataCongregacao[0]||0)-(this.graphDataCongregacao[2]||0),this.graphDataCongregacao[2]||0,this.totalUnidades],o=[this.graphDataDepartamentos[0]||0,this.graphDataDepartamentos[1]||0,e-(this.graphDataDepartamentos[0]||0)-(this.graphDataDepartamentos[2]||0),this.graphDataDepartamentos[2]||0];return[s,o]}},watch:{selectedCampus:{handler(t){t.length===0&&this.selectedCampus.length!==this.allCampi.length&&(this.selectedCampus=[...this.allCampi]),this.filterTableRowsByCampus(t),this.calculateGraphDataCongregacao()},immediate:!0,deep:!0},selectedUnidade:{handler(t){t==="Todas"?this.filterTableRowsByUnidade("Todas"):t&&this.uniqueUnidadeSiglas.includes(t)&&(this.filterTableRowsByUnidade(t),this.calculateGraphDataDepartamentos())},immediate:!0},selectedTema:{handler(t){t&&this.loadDashboardData()},immediate:!0}},methods:{selectUnidade(t){this.selectedUnidade=t},toggleCampusSelection(t){this.selectedCampus.includes(t)?this.selectedCampus=this.selectedCampus.filter(e=>e!==t):this.selectedCampus.push(t)},async fetchTemas(){try{const t=await m(g(f,"Temas"));this.temas=t.docs.map(e=>({id:e.id,...e.data()}))}catch(t){console.error("Erro ao buscar temas:",t)}},async loadDashboardData(){try{await this.fetchVotacoes(),this.calculateGraphDataCongregacao(),this.calculateGraphDataDepartamentos(),this.populateTables(),this.populateDepartamentosTable()}catch(t){console.error("Erro ao carregar dados do dashboard:",t)}},async fetchVotacoes(){try{const t=await m(R(g(f,"VotacoesCongregacao"),V("temaID","==",this.selectedTema)));this.votacoesCongregacao=t.docs.map(o=>({id:o.id,...o.data()}));const e=await m(R(g(f,"VotacoesDepartamentos"),V("temaID","==",this.selectedTema)));this.votacoesDepartamentos=e.docs.map(o=>({id:o.id,...o.data()}));const s=await m(g(f,"Unidades"));this.unidades=s.docs.map(o=>({id:o.id,...o.data()}))}catch(t){console.error("Erro ao buscar votações ou unidades:",t)}},async fetchTotalUnidades(){try{const t=await m(g(f,"Unidades"));this.totalUnidades=t.size}catch(t){console.error("Erro ao buscar total de unidades:",t)}},async fetchTotalDepartamentos(){try{const t=await m(g(f,"Departamentos"));this.totalDepartamentos=t.size}catch(t){console.error("Erro ao buscar total de unidades:",t)}},calculateGraphDataCongregacao(){const t=this.tableRowsUnidades.filter(o=>o.Aprovado==="Sim").length,e=this.tableRowsUnidades.filter(o=>o.Aprovado==="Não"&&o.Comentários.trim()!=="").length,s=this.tableRowsUnidades.filter(o=>o.Aprovado==="Não").length;this.graphDataCongregacao=[t,e,s,this.tableRowsUnidades.length-t-e-s],this.graphKeyCongregacao++},calculateGraphDataDepartamentos(){const t=this.tableRowsDepartamentos.filter(o=>o.Aprovado==="Sim").length,e=this.tableRowsDepartamentos.filter(o=>o.Aprovado==="Não"&&o.Comentários.trim()!=="").length,s=this.tableRowsDepartamentos.filter(o=>o.Aprovado==="Não").length;this.graphDataDepartamentos=[t,e,s,this.tableRowsDepartamentos.length-t-e,-s],this.graphKeyDepartamentos++},populateTables(){const t=new Set;this.CampusDropdown=this.votacoesCongregacao.map(e=>{const s=this.unidades.find(o=>o.id===e.unidadeID);return s?s.Campus:null}).filter(e=>e&&!t.has(e)?(t.add(e),!0):!1).map(e=>({Campus:e})),this.allCampi=this.CampusDropdown.map(e=>e.Campus),this.selectedCampus=[...this.allCampi],this.filterTableRowsByCampus(this.selectedCampus),this.calculateGraphDataCongregacao()},filterTableRowsByCampus(t){this.tableRowsUnidades=this.votacoesCongregacao.map(e=>{var o,a,r;const s=this.unidades.find(d=>d.id===e.unidadeID);return{Campus:s?s.Campus:"N/A",Sigla:s?s.Sigla:"N/A",Aprovado:e.Aprovado||"N/A",Apoio:e.Apoio||"N/A",Favoráveis:((o=e.Placar)==null?void 0:o.Favoraveis)||0,Contrários:((a=e.Placar)==null?void 0:a.Contrarios)||0,Abstenções:((r=e.Placar)==null?void 0:r.Abstencoes)||0,Comentários:e.Comentarios||""}}).filter(e=>t.includes(e.Campus)).map(e=>({Sigla:e.Sigla,Aprovado:e.Aprovado,Favoráveis:e.Favoráveis,Contrários:e.Contrários,Abstenções:e.Abstenções,Comentários:e.Comentários})),this.calculateGraphDataCongregacao()},populateDepartamentosTable(){const t=new Set;this.tableRowsDepartamentos=this.votacoesDepartamentos.map(e=>{var a,r,d;const s=this.departamentos.find(c=>c.id===e.dptID),o=this.unidades.find(c=>c.id===(s==null?void 0:s.UnidadeID));return o&&o.Sigla&&t.add(o.Sigla),{Nome:s?s.Nome:"N/A",Aprovado:e.Aprovado||"N/A",Favoráveis:((a=e.Placar)==null?void 0:a.Favoraveis)||0,Contrários:((r=e.Placar)==null?void 0:r.Contrarios)||0,Abstenções:((d=e.Placar)==null?void 0:d.Abstencoes)||0,Comentários:e.Comentarios||""}}),this.uniqueUnidadeSiglas=["Todas",...Array.from(t)],(!this.selectedUnidade||!this.uniqueUnidadeSiglas.includes(this.selectedUnidade))&&(this.selectedUnidade="Todas"),this.calculateGraphDataDepartamentos()},filterTableRowsByUnidade(t){t==="Todas"?this.tableRowsDepartamentos=this.votacoesDepartamentos.map(e=>{var o,a,r;const s=this.departamentos.find(d=>d.id===e.dptID);return{Nome:s?s.Nome:"N/A",Sigla:s?s.UnidadeID:"N/A",Aprovado:e.Aprovado||"N/A",Favoráveis:((o=e.Placar)==null?void 0:o.Favoraveis)||0,Contrários:((a=e.Placar)==null?void 0:a.Contrarios)||0,Abstenções:((r=e.Placar)==null?void 0:r.Abstencoes)||0,Comentários:e.Comentarios||""}}):this.tableRowsDepartamentos=this.votacoesDepartamentos.map(e=>{var o,a,r;const s=this.departamentos.find(d=>d.id===e.dptID);return{Nome:s?s.Nome:"N/A",Sigla:s?s.UnidadeID:"N/A",Aprovado:e.Aprovado||"N/A",Favoráveis:((o=e.Placar)==null?void 0:o.Favoraveis)||0,Contrários:((a=e.Placar)==null?void 0:a.Contrarios)||0,Abstenções:((r=e.Placar)==null?void 0:r.Abstencoes)||0,Comentários:e.Comentarios||""}}).filter(e=>e.Sigla===t),this.tableRowsDepartamentos=this.tableRowsDepartamentos.map(e=>({Nome:e.Nome,Aprovado:e.Aprovado,Favoráveis:e.Favoráveis,Contrários:e.Contrários,Abstenções:e.Abstenções,Comentários:e.Comentários})),this.calculateGraphDataDepartamentos()},async fetchDepartamentosData(){try{const t=await m(g(f,"Departamentos"));this.departamentos=t.docs.map(o=>({id:o.id,...o.data()}));const e=await m(g(f,"Unidades"));this.unidades=e.docs.map(o=>({id:o.id,...o.data()}));const s=await m(g(f,"VotacoesDepartamentos"));this.votacoesDepartamentos=s.docs.map(o=>({id:o.id,...o.data()})),this.populateDepartamentosTable()}catch(t){console.error("Erro ao buscar dados dos departamentos:",t)}}},async mounted(){await this.fetchTemas(),await this.fetchTotalUnidades(),await this.fetchTotalDepartamentos(),await this.fetchDepartamentosData(),await this.fetchVotacoes(),this.filterTableRowsByCampus(this.selectedCampus),this.temas.length>0&&(this.selectedTema=this.temas[0].id)}},Ve={class:"container-fluid layout-view py-3"},Be={class:"mb-1"},Ge=["value"],qe={class:"mt-4"},Pe={key:0,class:"col-md-12"},$e={class:"row gx-3"},Le={class:"col-md-6"},Ee={class:"mb-3"},Oe={class:"d-flex flex-wrap gap-2"},ze=["onClick"],Me={class:"row"},Ke={class:"col-md-12"},He={class:"row"},je={class:"col-md-6"},We={class:"col-md-6"},Ye={class:"col-md-6"},Je={class:"mb-3 dropdown"},Qe={class:"btn btn-primary dropdown-toggle",type:"button",id:"dropdownUnidadeButton","data-bs-toggle":"dropdown","aria-expanded":"false"},Xe={class:"dropdown-menu","aria-labelledby":"dropdownUnidadeButton"},Ze=["onClick"],et={key:0},tt={class:"row"},at={class:"col-md-12"},st={class:"row"},ot={class:"col-md-6"},rt={class:"col-md-6"},nt={key:1,class:"text-center text-muted"};function it(t,e,s,o,a,r){const d=U("GenericGraph"),c=U("GenericTable2"),u=U("GenericCard");return i(),l("div",Ve,[D(u,{showNewButton:!1},{title:C(()=>[n("div",Be,[T(n("select",{id:"tema-dropdown",class:"form-select","onUpdate:modelValue":e[0]||(e[0]=p=>a.selectedTema=p)},[(i(!0),l(y,null,w(a.temas,(p,b)=>(i(),l("option",{key:b,value:p.id},v(p.Titulo),9,Ge))),128))],512),[[M,a.selectedTema]])])]),content:C(()=>[n("div",qe,[a.selectedTema?(i(),l("div",Pe,[n("div",$e,[n("div",Le,[D(u,{showNewButton:!1},{title:C(()=>[n("div",Ee,[n("div",Oe,[(i(!0),l(y,null,w(a.CampusDropdown,(p,b)=>(i(),l("button",{key:b,class:x(["btn","btn-outline-primary",{"active btn-primary":a.selectedCampus.includes(p.Campus)}]),onClick:vt=>r.toggleCampusSelection(p.Campus)},v(p.Campus),11,ze))),128))])])]),content:C(()=>[n("div",Me,[n("div",Ke,[n("div",He,[n("div",je,[a.graphDataCongregacao.length?(i(),A(d,{key:a.graphKeyCongregacao,title:"Tramitação nas Unidades",labels:["Aprovaram Texto","Não Aprovaram","Faltam Posicionar"],values:[r.graphDataFormatted[0][0],r.graphDataFormatted[0][3],r.graphDataFormatted[0][2]],colors:["#4caf50","#FF0000","#FFC222"],unitName:"Unidades",singularUnitName:"Unidade",totalText:"Unidades"},null,8,["values"])):h("",!0)]),n("div",We,[a.graphDataCongregacao.length?(i(),A(d,{key:a.graphKeyCongregacao,title:"Aprovação nas Unidades",labels:["Aprovaram Texto","Apoiam"],values:[r.graphDataFormatted[0][0],r.graphDataFormatted[0][1]],colors:["#4caf50","#256A99"],unitName:"Unidades",singularUnitName:"Unidade",totalText:"Unidades"},null,8,["values"])):h("",!0)])]),D(c,{headers:a.tableHeadersUnidades,rows:a.tableRowsUnidades,"description-key":"Comentários"},null,8,["headers","rows"])])])]),_:1})]),n("div",Ye,[D(u,{showNewButton:!1},{title:C(()=>[n("div",Je,[n("button",Qe,v(a.selectedUnidade==="Todas"?"Selecione a Unidade":a.selectedUnidade),1),n("ul",Xe,[n("li",null,[(i(!0),l(y,null,w(a.uniqueUnidadeSiglas,p=>(i(),l("button",{key:p,class:"dropdown-item",onClick:b=>r.selectUnidade(p)},v(p),9,Ze))),128))])])])]),content:C(()=>[a.tableRowsDepartamentos.length?(i(),l("div",et,[n("div",tt,[n("div",at,[n("div",st,[n("div",ot,[a.graphDataDepartamentos.length?(i(),A(d,{key:a.graphKeyDepartamentos,title:"Tramitação nos Departamentos",labels:["Aprovaram Texto","Faltam Posicionar","Não Aprovaram "],values:[r.graphDataFormatted[1][0],r.graphDataFormatted[1][2],r.graphDataFormatted[1][3]],colors:["#4caf50","#FFC222","#FF0000"],unitName:"Departamentos",singularUnitName:"Departamento",totalText:"Departamentos"},null,8,["values"])):h("",!0)]),n("div",rt,[a.graphDataDepartamentos.length?(i(),A(d,{key:a.graphKeyDepartamentos,title:"Aprovação nos Departamentos",labels:["Aprovaram Texto","Apoiam"],values:[r.graphDataFormatted[1][0],r.graphDataFormatted[1][1]],colors:["#4caf50","#256A99"],unitName:"Departamentos",singularUnitName:"Departamento",totalText:"Departamentos"},null,8,["values"])):h("",!0)])]),D(c,{headers:a.tableHeadersDepartamentos,rows:a.tableRowsDepartamentos,"description-key":"Comentários"},null,8,["headers","rows"])])])])):(i(),l("p",nt,"Nenhum dado disponível para Departamentos."))]),_:1})])])])):h("",!0)])]),_:1})])}const lt=_(Re,[["render",it],["__scopeId","data-v-999319e9"]]),dt={name:"DashBoardView",components:{DashBoardComponent:lt}};function ct(t,e,s,o,a,r){const d=U("DashBoardComponent");return i(),A(d)}const pt=_(dt,[["render",ct]]),ht={data(){return{email:"",password:"",errorMessage:""}},methods:{async login(){const t=N();try{await Z(t,this.email,this.password),this.$router.push("/")}catch(e){this.errorMessage="Erro ao fazer login: "+e.message}}}},ut={class:"login-page"},mt={key:0};function gt(t,e,s,o,a,r){return i(),l("div",ut,[e[6]||(e[6]=n("h1",null,"Login",-1)),n("form",{onSubmit:e[2]||(e[2]=K((...d)=>r.login&&r.login(...d),["prevent"]))},[n("div",null,[e[3]||(e[3]=n("label",{for:"email"},"E-mail",-1)),T(n("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=d=>a.email=d),required:""},null,512),[[F,a.email]])]),n("div",null,[e[4]||(e[4]=n("label",{for:"password"},"Senha",-1)),T(n("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=d=>a.password=d),required:""},null,512),[[F,a.password]])]),e[5]||(e[5]=n("button",{type:"submit"},"Entrar",-1))],32),a.errorMessage?(i(),l("p",mt,v(a.errorMessage),1)):h("",!0)])}const ft=_(ht,[["render",gt]]),q=H({history:j(),routes:[{path:"/login",name:"Login",component:ft},{path:"/",name:"Dash",component:pt,meta:{requiresAuth:!0}}]});q.beforeEach((t,e,s)=>{const o=N();t.matched.some(r=>r.meta.requiresAuth)?B(o,r=>{r?s():s("/login")}):s()});const P=W(re);P.use(q);P.mount("#app");
