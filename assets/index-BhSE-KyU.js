import{o,c as r,a as t,b as p,w as g,u as $,d as k,R as N,e as B,t as _,f as m,r as C,n as U,g as S,F as b,h as y,i as v,j as A,k as G,v as P,l as x,m as E,p as V,q as I}from"./vue-vendor-XzhFWOhp.js";import{C as D,r as O}from"./chartjs-DwU4OVg3.js";import"./vendor-BIWU2Uel.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();const h=(s,e)=>{const a=s.__vccOpts||s;for(const[c,n]of e)a[c]=n;return a},q={id:"app"},F={class:"app-header"},L={class:"app-nav"},M={class:"app-main"},R={__name:"App",setup(s){return(e,a)=>(o(),r("div",q,[t("header",F,[t("nav",L,[p($(N),{to:"/",class:"nav-link"},{default:g(()=>a[0]||(a[0]=[k("Dashboard")])),_:1})])]),t("main",M,[p($(B))])]))}},j=h(R,[["__scopeId","data-v-76cc63ea"]]),H={name:"GenericCard",props:{title:{type:String,required:!0},showNewButton:{type:Boolean,default:!0}}},K={class:"card generic-card"},z={class:"card-header d-flex justify-content-between align-items-center"},W={class:"mb-0"},J={class:"card-body"},Q={key:0,class:"card-footer"};function X(s,e,a,c,n,i){return o(),r("div",K,[t("div",z,[t("h5",W,_(a.title),1),a.showNewButton?(o(),r("button",{key:0,class:"btn btn-sm btn-primary",onClick:e[0]||(e[0]=d=>s.$emit("newItem"))},e[1]||(e[1]=[t("i",{class:"fas fa-plus"},null,-1),k(" Novo ")]))):m("",!0)]),t("div",J,[C(s.$slots,"content",{},()=>[e[2]||(e[2]=t("p",{class:"text-muted"},"Sem conteúdo disponível.",-1))])]),s.$slots.footer?(o(),r("div",Q,[C(s.$slots,"footer",{},void 0)])):m("",!0)])}const Y=h(H,[["render",X],["__scopeId","data-v-f107b3e7"]]),Z={name:"GenericGraph",props:{title:{type:String,default:"Gráfico"},labels:{type:Array,required:!0},data:{type:Array,required:!0},colors:{type:Array,default:()=>["#4caf50","#2196f3","#ffeb3b","#f44336"]},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},mounted(){D.register(...O),new D(this.$refs.chartCanvas,{type:"doughnut",data:{labels:this.labels,datasets:[{data:this.data,backgroundColor:this.colors}]},options:{responsive:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(s){const e=s.label||"",a=s.raw||0;return`${e}: ${a}`}}}},onClick:(s,e)=>{if(e.length>0){const a=e[0].index,c=this.labels[a];this.$emit("section-clicked",c)}}}})}},ee={class:"graph-title"},te={ref:"chartCanvas"};function se(s,e,a,c,n,i){return o(),r("div",{class:"generic-graph",style:U({width:a.width,height:a.height})},[t("h5",ee,_(a.title),1),t("canvas",te,null,512)],4)}const ne=h(Z,[["render",se],["__scopeId","data-v-6b17ac77"]]),ae=S([]),oe={props:{headers:{type:Array,default:()=>[]},rows:{type:Array,default:()=>[]},descriptionKey:{type:String,default:"descricao"}},data(){return{items:ae,currentPage:1,totalPages:1,errorMessage:""}},computed:{columnCount(){return this.showActions?this.columns.length+1:this.columns.length},tableWidth(){return`${this.columnCount*150}px`}},methods:{getColumnAlignment(s){const e=this.headers.find(a=>a.value===s);return(e==null?void 0:e.align)||"text-center"},getVerticalAlignment(s){const e=this.headers.find(a=>a.value===s);return(e==null?void 0:e.verticalAlign)||"middle"},getColumnStyle(){return{width:`${100/this.columnCount}%`}},previousPage(){this.currentPage>1&&(this.currentPage--,this.fetchData())},nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.fetchData())},onQuery(s){this.$emit("query",s)},onUpdate(s){this.$emit("update",s)},onDelete(s){console.log("GenericTable - OnDelete"+s),this.$emit("delete",s)}},watch:{currentPage(){this.fetchData()}},components:{}},ie={class:"table-responsive"},re={class:"table table-striped table-hover"},le=["onClick"],ce={key:0},de=["title"],ue={key:1},pe={key:0},me=["colspan"];function he(s,e,a,c,n,i){var d;return o(),r("div",ie,[t("table",re,[t("thead",null,[t("tr",null,[(o(!0),r(b,null,y(a.headers,u=>(o(),r("th",{key:u.value,class:v(u.align||"text-center"),style:U({verticalAlign:u.verticalAlign||"middle"})},_(u.text),7))),128))])]),t("tbody",null,[(o(!0),r(b,null,y(a.rows||[],(u,w)=>(o(),r("tr",{key:w,onClick:l=>s.$emit("rowClick",u)},[(o(!0),r(b,null,y(u,(l,f)=>(o(),r("td",{key:f,class:v(i.getColumnAlignment(f))},[f===a.descriptionKey&&l?(o(),r("span",ce,[t("span",{class:"info-icon",title:l},e[0]||(e[0]=[t("i",{class:"fas fa-info-circle"},null,-1)]),8,de)])):(o(),r("span",ue,_(l),1))],2))),128))],8,le))),128)),a.rows&&a.rows.length===0?(o(),r("tr",pe,[t("td",{colspan:((d=a.headers)==null?void 0:d.length)||1,class:"text-center"},"Nenhum dado disponível",8,me)])):m("",!0)])])])}const fe=h(oe,[["render",he],["__scopeId","data-v-6a704377"]]),ve={name:"DashBoardComponent",components:{GenericCard:Y,GenericGraph:ne,GenericTable2:fe},data(){return{activeTabUnidades:"Aprovaram Texto",selectedUnit:"",units:[],departments:[],filteredDepartments:[],tableHeaders:[{text:"Departamento",value:"department",align:"left"},{text:"Unanimidade",value:"unanimity",align:"center"},{text:"Votos a Favor",value:"votesFor",align:"right"},{text:"Votos Contra",value:"votesAgainst",align:"right"},{text:"Abstenções",value:"abstentions",align:"center"}]}},methods:{async fetchData(){try{const s=await fetch("./data.json");if(!s.ok)throw new Error("Erro ao carregar o arquivo JSON");const e=await s.json();this.departments=e.departments,this.units=[...new Set(e.departments.map(a=>a.unit))]}catch(s){console.error("Erro ao carregar dados:",s)}},setActiveTabUnidades(s){this.activeTabUnidades=s},updateTableData(){this.filteredDepartments=this.departments.filter(s=>s.unit===this.selectedUnit).map(({unit:s,...e})=>e)}},mounted(){this.fetchData()}},_e={class:"container-fluid layout-view"},ge={class:"mt-4"},be={class:"row"},ye={class:"col-md-6"},Ae={class:"tabs-container mt-3"},we={class:"nav nav-tabs"},$e={class:"nav-item"},Ce={class:"nav-item"},De={class:"nav-item"},ke={class:"tab-content mt-3"},Ue={key:0,class:"tab-pane active"},xe={key:1,class:"tab-pane active"},Te={key:2,class:"tab-pane active"},Ne={class:"col-md-6"},Be={class:"mb-4"},Se=["value"],Ge={key:1,class:"text-center mt-3"};function Pe(s,e,a,c,n,i){const d=A("GenericGraph"),u=A("GenericCard"),w=A("GenericTable2");return o(),r("div",_e,[p(u,{title:"Controle de Aprovação",showNewButton:!1},{content:g(()=>[t("div",ge,[t("div",be,[t("div",ye,[p(u,{title:"Unidades",showNewButton:!1},{content:g(()=>[p(d,{title:"Distribuição de Apoio nas Unidades",labels:["Aprovaram Texto","Apoiam Discussão","Não Apoiaram"],data:[8,4,30],colors:["#4caf50","#2196f3","#f44336"],width:"100%",height:"300px",onSectionClicked:i.setActiveTabUnidades},null,8,["onSectionClicked"]),t("div",Ae,[t("ul",we,[t("li",$e,[t("a",{class:v(["nav-link",{active:n.activeTabUnidades==="Aprovaram Texto"}]),onClick:e[0]||(e[0]=l=>i.setActiveTabUnidades("Aprovaram Texto")),href:"#"}," Aprovaram Texto ",2)]),t("li",Ce,[t("a",{class:v(["nav-link",{active:n.activeTabUnidades==="Apoiam Discussão"}]),onClick:e[1]||(e[1]=l=>i.setActiveTabUnidades("Apoiam Discussão")),href:"#"}," Apoiam Discussão ",2)]),t("li",De,[t("a",{class:v(["nav-link",{active:n.activeTabUnidades==="Não Apoiaram"}]),onClick:e[2]||(e[2]=l=>i.setActiveTabUnidades("Não Apoiaram")),href:"#"}," Não Apoiaram ",2)])]),t("div",ke,[n.activeTabUnidades==="Aprovaram Texto"?(o(),r("div",Ue,e[5]||(e[5]=[t("ul",null,[t("li",null,"Museu de Arqueologia e Etnologia (MAE) (Unanimidade) (04.04.2024)"),t("li",null,"Escola de Enfermagem (EE) (Unanimidade) (09.10.2024)"),t("li",null,"Faculdade de Saúde Pública (FSP) (Unanimidade) (24.10.2024)"),t("li",null,"Instituto de Biociências (IB) 23 a favor, 3 abstenções (25.10.2024)")],-1)]))):m("",!0),n.activeTabUnidades==="Apoiam Discussão"?(o(),r("div",xe,e[6]||(e[6]=[t("ul",null,[t("li",null,"Unidade A - Informações relevantes"),t("li",null,"Unidade B - Detalhes complementares")],-1)]))):m("",!0),n.activeTabUnidades==="Não Apoiaram"?(o(),r("div",Te,e[7]||(e[7]=[t("p",null,"Não há informações disponíveis para esta categoria.",-1)]))):m("",!0)])])]),_:1})]),t("div",Ne,[p(u,{title:"Departamentos",showNewButton:!1},{content:g(()=>[e[10]||(e[10]=t("div",{class:"mb-4"},[t("h5",null,"Resumo dos Departamentos"),t("p",null,"28 departamentos discutiram o tema"),t("p",null,"26 deles aprovaram a proposta (20 por unanimidade)")],-1)),t("div",Be,[e[9]||(e[9]=t("label",{for:"unit-dropdown",class:"form-label"},"Selecione uma Unidade:",-1)),G(t("select",{id:"unit-dropdown",class:"form-select","onUpdate:modelValue":e[3]||(e[3]=l=>n.selectedUnit=l),onChange:e[4]||(e[4]=(...l)=>i.updateTableData&&i.updateTableData(...l))},[e[8]||(e[8]=t("option",{value:"",disabled:""},"Escolha uma unidade",-1)),(o(!0),r(b,null,y(n.units,(l,f)=>(o(),r("option",{key:f,value:l},_(l),9,Se))),128))],544),[[P,n.selectedUnit]])]),n.filteredDepartments.length>0?(o(),x(w,{key:0,rows:n.filteredDepartments,headers:n.tableHeaders,descriptionKey:"comments"},null,8,["rows","headers"])):(o(),r("p",Ge,"Nenhum departamento encontrado."))]),_:1})])])])]),_:1})])}const Ee=h(ve,[["render",Pe],["__scopeId","data-v-1088e700"]]),Ve={name:"DashBoardView",components:{DashBoardComponent:Ee}};function Ie(s,e,a,c,n,i){const d=A("DashBoardComponent");return o(),x(d)}const Oe=h(Ve,[["render",Ie]]),qe=E({history:V(),routes:[{path:"/",name:"Dash",component:Oe}]}),T=I(j);T.use(qe);T.mount("#app");
