import{r as L,o as $,a as l,c as d,b as o,d as D,w as C,u as R,e as h,f as k,R as O,g as K,h as S,t as u,F as y,i as A,n as F,j as M,k as T,v as N,l as x,m as z,p as w,q as H,s as j,x as Y,y as W}from"./vue-vendor-CaE-17CA.js";import{g as U,o as V,s as X,i as J,a as Q,b as f,c as g,q as B,w as I,d as Z}from"./vendor-BoDgcQ-v.js";import{C as q,r as ee}from"./chartjs-v-CiLEzH.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=a(t);fetch(t.href,n)}})();const _=(s,e)=>{const a=s.__vccOpts||s;for(const[r,t]of e)a[r]=t;return a},te={id:"app"},se={class:"app-header"},ae={class:"app-nav"},oe={class:"app-main"},re={__name:"App",setup(s){const e=U(),a=L(!1);$(()=>{V(e,t=>{a.value=!!t})});function r(){X(e).then(()=>{alert("Você saiu com sucesso!"),window.location.href="/login"}).catch(t=>{console.error("Erro ao sair:",t.message)})}return(t,n)=>(l(),d("div",te,[o("header",se,[o("nav",ae,[D(R(O),{to:"/",class:"nav-link"},{default:C(()=>n[0]||(n[0]=[k("Dashboard")])),_:1}),a.value?(l(),d("button",{key:0,class:"logout-button",onClick:r}," Sair ")):h("",!0)])]),o("main",oe,[D(R(K))])]))}},ne=_(re,[["__scopeId","data-v-4aff2a07"]]),ie={name:"GenericCard",props:{title:{type:String,required:!1},showNewButton:{type:Boolean,default:!0}}},le={class:"card generic-card"},de={class:"card-header d-flex justify-content-between align-items-center"},ce={class:"mb-0"},pe={class:"card-body"},ue={key:0,class:"card-footer"};function he(s,e,a,r,t,n){return l(),d("div",le,[o("div",de,[S(s.$slots,"title",{},()=>[o("h5",ce,u(a.title),1)]),a.showNewButton?(l(),d("button",{key:0,class:"btn btn-sm btn-primary",onClick:e[0]||(e[0]=i=>s.$emit("newItem"))},e[1]||(e[1]=[o("i",{class:"fas fa-plus"},null,-1),k(" Novo ")]))):h("",!0)]),o("div",pe,[S(s.$slots,"content",{},()=>[e[2]||(e[2]=o("p",{class:"text-muted"},"Sem conteúdo disponível.",-1))])]),s.$slots.footer?(l(),d("div",ue,[S(s.$slots,"footer",{},void 0)])):h("",!0)])}const me=_(ie,[["render",he],["__scopeId","data-v-03dd9fa7"]]);q.register(...ee);const fe={props:{title:{type:String,default:""},labels:{type:Array,required:!0,validator(s){return s.every(e=>typeof e=="string")}},data:{type:Array,required:!0,validator(s){return s.every(e=>typeof e=="number"&&e>=0)}},colors:{type:Array,required:!0,validator(s){return s.every(e=>typeof e=="string")}},width:{type:String,default:"100%"},height:{type:String,default:"400px"},centerText:{type:String,default:""}},data(){return{selectedIndex:null}},mounted(){this.createChart()},methods:{createChart(){const s=this.$refs.chartCanvas.getContext("2d");this.chart=new q(s,{type:"doughnut",data:{labels:this.labels,datasets:[{data:this.data,backgroundColor:this.colors,hoverOffset:15}]},options:{responsive:!0,plugins:{tooltip:{enabled:!0,textInside:!0},beforeDraw:e=>{const a=e.ctx,r=e.chartArea.width,t=e.chartArea.height,n=r/2,i=e.chartArea.top+t/2;this.centerText&&this.centerText.trim()!==""?(a.save(),a.font="30px Arial",a.fillStyle="#000",a.textAlign="center",a.textBaseline="middle",a.fillText(this.centerText,n,i),a.restore()):(a.save(),a.font="30px Arial",a.fillStyle="#000",a.textAlign="center",a.textBaseline="middle",a.fillText("Sem dados",n,i),a.restore())}},onHover:(e,a)=>{if(a.length){const r=a[0],t=this.chart.data.datasets[r.datasetIndex];t.hoverOffset=20,this.chart.update()}},onLeave:()=>{this.chart.data.datasets.forEach((e,a)=>{e.hoverOffset=this.selectedIndex===a?20:15}),this.chart.update()},onClick:(e,a)=>{if(a.length){const t=a[0].index;this.selectedIndex=t,this.chart.data.datasets.forEach((i,c)=>{i.hoverOffset=c===this.selectedIndex?20:15}),this.chart.update();const n=this.labels[t];this.$emit("section-clicked",n)}}}})}},beforeUnmount(){this.chart&&this.chart.destroy()}},ge={ref:"chartCanvas"};function ve(s,e,a,r,t,n){return l(),d("div",null,[o("canvas",ge,null,512)])}const be=_(fe,[["render",ve],["__scopeId","data-v-b7d9108a"]]),Ce={props:{headers:{type:Array,default:()=>[]},rows:{type:Array,default:()=>[]},descriptionKey:{type:String,default:"comments"}},data(){return{tooltipVisible:!1,tooltipContent:"",filters:{},filteredRows:[]}},watch:{rows:{handler(s){this.filteredRows=[...s]},immediate:!0}},methods:{getColumnAlignment(s){const e=this.headers.find(a=>a.value===s);return(e==null?void 0:e.align)||"text-center"},applyFilters(){this.filteredRows=this.rows.filter(s=>Object.keys(this.filters).every(e=>{var t,n;const a=((t=this.filters[e])==null?void 0:t.toLowerCase())||"";return(((n=s[e])==null?void 0:n.toString().toLowerCase())||"").includes(a)}))}}},De={class:"table-responsive"},_e={class:"table table-striped table-hover"},ye={key:0,class:"mt-2"},Ae=["onUpdate:modelValue"],we=["onClick"],xe={key:0},Te=["title"],Ue={key:1},Se={key:0},Fe=["colspan"],Ne={class:"tooltip-content"};function ke(s,e,a,r,t,n){var i;return l(),d("div",De,[o("table",_e,[o("thead",null,[o("tr",null,[(l(!0),d(y,null,A(a.headers,c=>(l(),d("th",{key:c.value,class:F(c.align||"text-center"),style:M({verticalAlign:c.verticalAlign||"middle"})},[k(u(c.text)+" ",1),c.filterable?(l(),d("div",ye,[T(o("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":m=>t.filters[c.value]=m,onInput:e[0]||(e[0]=(...m)=>n.applyFilters&&n.applyFilters(...m)),placeholder:"Filtrar"},null,40,Ae),[[N,t.filters[c.value]]])])):h("",!0)],6))),128))])]),o("tbody",null,[(l(!0),d(y,null,A(t.filteredRows,(c,m)=>(l(),d("tr",{key:m,onClick:p=>s.$emit("rowClick",c)},[(l(!0),d(y,null,A(c,(p,b)=>(l(),d("td",{key:b,class:F(n.getColumnAlignment(b))},[b===a.descriptionKey&&p?(l(),d("span",xe,[o("span",{class:"info-icon",title:p},e[3]||(e[3]=[o("i",{class:"fas fa-info-circle"},null,-1)]),8,Te)])):(l(),d("span",Ue,u(p),1))],2))),128))],8,we))),128)),t.filteredRows.length===0?(l(),d("tr",Se,[o("td",{colspan:((i=a.headers)==null?void 0:i.length)||1,class:"text-center"},"Nenhum dado disponível",8,Fe)])):h("",!0)])]),t.tooltipVisible?(l(),d("div",{key:0,class:"tooltip-container",onClick:e[2]||(e[2]=c=>t.tooltipVisible=!1)},[o("div",Ne,[o("p",null,u(t.tooltipContent),1),o("button",{class:"btn btn-primary",onClick:e[1]||(e[1]=c=>t.tooltipVisible=!1)},"Fechar")])])):h("",!0)])}const Re=_(Ce,[["render",ke],["__scopeId","data-v-2f895af4"]]),Be={apiKey:"AIzaSyB3-kGIIrzMp3il9BMmB7e9YIw8MVi7eqY",authDomain:"carreiras-usp.firebaseapp.com",databaseURL:"https://carreiras-usp-default-rtdb.firebaseio.com",projectId:"carreiras-usp",storageBucket:"carreiras-usp.firebasestorage.app",messagingSenderId:"870850312201",appId:"1:870850312201:web:edc7a5a5e757c9187620d8"},G=J(Be);U(G);const v=Q(G),Ie={name:"DashBoardComponent",components:{GenericCard:me,GenericGraph:be,GenericTable2:Re},data(){return{graphKeyCongregacao:1,graphKeyDepartamentos:2,temas:[],CampusDropdown:[],selectedCampus:[],allCampi:[],selectedUnidade:"Todas",uniqueUnidadeSiglas:[],selectedTema:"",votacoesCongregacao:[],votacoesDepartamentos:[],graphDataCongregacao:[0,0,0],graphDataDepartamentos:[0,0,0],totalUnidades:0,totalDepartamentos:0,unidades:[],tableHeadersUnidades:[{text:"Sigla",value:"Sigla",filterable:!0},{text:"Aprovado",value:"Aprovado",filterable:!1},{text:"Favoráveis",value:"Favoráveis",filterable:!1},{text:"Contrários",value:"Contrários",filterable:!1},{text:"Abstenções",value:"Abstenções",filterable:!1}],tableHeadersDepartamentos:[{text:"Nome",value:"Nome",filterable:!0},{text:"Aprovado",value:"Aprovado",filterable:!1},{text:"Favoráveis",value:"Favoráveis",filterable:!1},{text:"Contrários",value:"Contrários",filterable:!1},{text:"Abstenções",value:"Abstenções",filterable:!1}],Comentarios:"Comentários",tableRowsUnidades:[],tableRowsDepartamentos:[]}},computed:{hasData(){return s=>s&&s.length>0},graphDataFormatted(){const s=[this.graphDataCongregacao[0],this.graphDataCongregacao[1],this.totalUnidades-this.graphDataCongregacao[0]-this.graphDataCongregacao[1],this.graphDataCongregacao[2]],e=[this.graphDataDepartamentos[0],this.graphDataDepartamentos[1],this.totalDepartamentos-this.graphDataDepartamentos[0]-this.graphDataDepartamentos[1],this.graphDataDepartamentos[2]];return[s,e]}},watch:{handler(s){s.length===0&&this.selectedCampus.length!==this.allCampi.length&&(this.selectedCampus=[...this.allCampi]),this.filterTableRowsByCampus(s),this.calculateGraphData()},immediate:!0,deep:!0,selectedCampus:{handler(s){s.length===0&&this.selectedCampus.length!==this.allCampi.length&&(this.selectedCampus=[...this.allCampi]),this.filterTableRowsByCampus(s)},immediate:!0,deep:!0},selectedUnidade(s){s==="Todas"?this.filterTableRowsByUnidade("Todas"):s&&this.uniqueUnidadeSiglas.includes(s)&&this.filterTableRowsByUnidade(s)},selectedTema(s){s&&this.loadDashboardData()}},methods:{selectUnidade(s){this.selectedUnidade=s},toggleCampusSelection(s){this.selectedCampus.includes(s)?this.selectedCampus=this.selectedCampus.filter(e=>e!==s):this.selectedCampus.push(s)},async fetchTemas(){try{const s=await f(g(v,"Temas"));this.temas=s.docs.map(e=>({id:e.id,...e.data()}))}catch(s){console.error("Erro ao buscar temas:",s)}},async loadDashboardData(){try{await this.fetchVotacoes(),this.calculateGraphData(),this.populateTables(),this.populateDepartamentosTable()}catch(s){console.error("Erro ao carregar dados do dashboard:",s)}},async fetchVotacoes(){try{const s=await f(B(g(v,"VotacoesCongregacao"),I("temaID","==",this.selectedTema)));this.votacoesCongregacao=s.docs.map(r=>({id:r.id,...r.data()}));const e=await f(B(g(v,"VotacoesDepartamentos"),I("temaID","==",this.selectedTema)));this.votacoesDepartamentos=e.docs.map(r=>({id:r.id,...r.data()}));const a=await f(g(v,"Unidades"));this.unidades=a.docs.map(r=>({id:r.id,...r.data()}))}catch(s){console.error("Erro ao buscar votações ou unidades:",s)}},async fetchTotalUnidades(){try{const s=await f(g(v,"Unidades"));this.totalUnidades=s.size}catch(s){console.error("Erro ao buscar total de unidades:",s)}},async fetchTotalDepartamentos(){try{const s=await f(g(v,"Departamentos"));this.totalDepartamentos=s.size}catch(s){console.error("Erro ao buscar total de unidades:",s)}},calculateGraphData(){const s=this.tableRowsUnidades.filter(i=>i.Aprovado==="Sim").length,e=this.tableRowsUnidades.filter(i=>i.Aprovado==="Não"&&i.Comentários.trim()!=="").length,a=this.tableRowsUnidades.filter(i=>i.Aprovado==="Não"&&i.Comentários.trim()==="").length;this.graphDataCongregacao=[s,e,a,this.tableRowsUnidades.length-s-a];const r=this.tableRowsDepartamentos.filter(i=>i.Aprovado==="Sim").length,t=this.tableRowsDepartamentos.filter(i=>i.Aprovado==="Não"&&i.Comentários.trim()!=="").length,n=this.tableRowsDepartamentos.filter(i=>i.Aprovado==="Não"&&i.Comentários.trim()==="").length;this.graphDataDepartamentos=[r,t,n,this.tableRowsDepartamentos.length-r-n],this.graphKeyCongregacao++,this.graphKeyDepartamentos++},populateTables(){const s=new Set;this.CampusDropdown=this.votacoesCongregacao.map(e=>{const a=this.unidades.find(r=>r.id===e.unidadeID);return a?a.Campus:null}).filter(e=>e&&!s.has(e)?(s.add(e),!0):!1).map(e=>({Campus:e})),this.allCampi=this.CampusDropdown.map(e=>e.Campus),this.selectedCampus=[...this.allCampi],this.filterTableRowsByCampus(this.selectedCampus),this.calculateGraphData()},filterTableRowsByCampus(s){this.tableRowsUnidades=this.votacoesCongregacao.map(e=>{var r,t,n;const a=this.unidades.find(i=>i.id===e.unidadeID);return{Campus:a?a.Campus:"N/A",Sigla:a?a.Sigla:"N/A",Aprovado:e.Aprovado||"N/A",Apoio:e.Apoio||"N/A",Favoráveis:((r=e.Placar)==null?void 0:r.Favoraveis)||0,Contrários:((t=e.Placar)==null?void 0:t.Contrarios)||0,Abstenções:((n=e.Placar)==null?void 0:n.Abstencoes)||0,Comentários:e.Comentarios||""}}).filter(e=>s.includes(e.Campus)).map(e=>({Sigla:e.Sigla,Aprovado:e.Aprovado,Favoráveis:e.Favoráveis,Contrários:e.Contrários,Abstenções:e.Abstenções,Comentários:e.Comentários})),this.calculateGraphData()},populateDepartamentosTable(){const s=new Set;this.tableRowsDepartamentos=this.votacoesDepartamentos.map(e=>{var t,n,i;const a=this.departamentos.find(c=>c.id===e.dptID),r=this.unidades.find(c=>c.id===(a==null?void 0:a.UnidadeID));return r&&r.Sigla&&s.add(r.Sigla),{Nome:a?a.Nome:"N/A",Aprovado:e.Aprovado||"N/A",Favoráveis:((t=e.Placar)==null?void 0:t.Favoraveis)||0,Contrários:((n=e.Placar)==null?void 0:n.Contrarios)||0,Abstenções:((i=e.Placar)==null?void 0:i.Abstencoes)||0,Comentários:e.Comentarios||""}}),this.uniqueUnidadeSiglas=["Todas",...Array.from(s)],(!this.selectedUnidade||!this.uniqueUnidadeSiglas.includes(this.selectedUnidade))&&(this.selectedUnidade="Todas"),this.calculateGraphData()},filterTableRowsByUnidade(s){s==="Todas"?this.tableRowsDepartamentos=this.votacoesDepartamentos.map(e=>{var r,t,n;const a=this.departamentos.find(i=>i.id===e.dptID);return{Nome:a?a.Nome:"N/A",Sigla:a?a.UnidadeID:"N/A",Aprovado:e.Aprovado||"N/A",Favoráveis:((r=e.Placar)==null?void 0:r.Favoraveis)||0,Contrários:((t=e.Placar)==null?void 0:t.Contrarios)||0,Abstenções:((n=e.Placar)==null?void 0:n.Abstencoes)||0,Comentários:e.Comentarios||""}}):this.tableRowsDepartamentos=this.votacoesDepartamentos.map(e=>{var r,t,n;const a=this.departamentos.find(i=>i.id===e.dptID);return{Nome:a?a.Nome:"N/A",Sigla:a?a.UnidadeID:"N/A",Aprovado:e.Aprovado||"N/A",Favoráveis:((r=e.Placar)==null?void 0:r.Favoraveis)||0,Contrários:((t=e.Placar)==null?void 0:t.Contrarios)||0,Abstenções:((n=e.Placar)==null?void 0:n.Abstencoes)||0,Comentários:e.Comentarios||""}}).filter(e=>e.Sigla===s),this.tableRowsDepartamentos=this.tableRowsDepartamentos.map(e=>({Nome:e.Nome,Aprovado:e.Aprovado,Favoráveis:e.Favoráveis,Contrários:e.Contrários,Abstenções:e.Abstenções,Comentários:e.Comentários})),this.calculateGraphData()},async fetchDepartamentosData(){try{const s=await f(g(v,"Departamentos"));this.departamentos=s.docs.map(r=>({id:r.id,...r.data()}));const e=await f(g(v,"Unidades"));this.unidades=e.docs.map(r=>({id:r.id,...r.data()}));const a=await f(g(v,"VotacoesDepartamentos"));this.votacoesDepartamentos=a.docs.map(r=>({id:r.id,...r.data()})),this.populateDepartamentosTable()}catch(s){console.error("Erro ao buscar dados dos departamentos:",s)}}},async mounted(){await this.fetchTemas(),await this.fetchTotalUnidades(),await this.fetchTotalDepartamentos(),await this.fetchDepartamentosData(),await this.fetchVotacoes(),this.filterTableRowsByCampus(this.selectedCampus),this.temas.length>0&&(this.selectedTema=this.temas[0].id)}},Ve={class:"container-fluid layout-view py-3"},qe={class:"mb-1"},Ge=["value"],Pe={class:"mt-4"},Ee={key:0,class:"col-md-12"},Le={class:"row gx-3"},$e={class:"col-md-6"},Oe={class:"mb-3"},Ke={class:"collapse mt-3",id:"campusCollapse"},Me={class:"d-flex flex-wrap gap-2"},ze=["onClick"],He={class:"row text-center mb-3"},je={class:"col-3"},Ye={class:"col-3"},We={class:"col-3"},Xe={class:"row"},Je={class:"col-md-12"},Qe={class:"row"},Ze={class:"col-md-6"},et={class:"col-md-6"},tt={class:"col-md-6"},st={class:"mb-3 dropdown"},at={class:"btn btn-primary dropdown-toggle",type:"button",id:"dropdownUnidadeButton","data-bs-toggle":"dropdown","aria-expanded":"false"},ot={class:"dropdown-menu","aria-labelledby":"dropdownUnidadeButton"},rt=["onClick"],nt={key:0},it={class:"row text-center mb-3"},lt={class:"col-3"},dt={class:"col-3"},ct={class:"col-3"},pt={class:"row"},ut={class:"col-md-12"},ht={class:"row"},mt={class:"col-md-6"},ft={class:"col-md-6"},gt={key:1,class:"text-center text-muted"};function vt(s,e,a,r,t,n){const i=x("GenericGraph"),c=x("GenericTable2"),m=x("GenericCard");return l(),d("div",Ve,[D(m,{showNewButton:!1},{title:C(()=>[o("div",qe,[T(o("select",{id:"tema-dropdown",class:"form-select","onUpdate:modelValue":e[0]||(e[0]=p=>t.selectedTema=p)},[(l(!0),d(y,null,A(t.temas,(p,b)=>(l(),d("option",{key:b,value:p.id},u(p.Titulo),9,Ge))),128))],512),[[z,t.selectedTema]])])]),content:C(()=>[o("div",Pe,[t.selectedTema?(l(),d("div",Ee,[o("div",Le,[o("div",$e,[D(m,{showNewButton:!1},{title:C(()=>[o("div",Oe,[e[2]||(e[2]=o("button",{class:"btn btn-primary dropdown-toggle",type:"button","data-bs-toggle":"collapse","data-bs-target":"#campusCollapse","aria-expanded":"false","aria-controls":"campusCollapse"}," Campus ",-1)),o("div",Ke,[e[1]||(e[1]=o("p",null,[o("strong",null,"Campi Disponíveis:")],-1)),o("div",Me,[(l(!0),d(y,null,A(t.CampusDropdown,(p,b)=>(l(),d("button",{key:b,class:F(["btn","btn-outline-primary",{"active btn-primary":t.selectedCampus.includes(p.Campus)}]),onClick:Ut=>n.toggleCampusSelection(p.Campus)},u(p.Campus),11,ze))),128))])])])]),content:C(()=>[o("div",He,[o("div",je,[e[3]||(e[3]=o("h6",null,"Aprovados",-1)),o("p",null,u(t.graphDataCongregacao[0]),1)]),o("div",Ye,[e[4]||(e[4]=o("h6",null,"Apoios",-1)),o("p",null,u(t.graphDataCongregacao[1]),1)]),o("div",We,[e[5]||(e[5]=o("h6",null,"Total Unidades",-1)),o("p",null,u(t.totalUnidades),1)])]),o("div",Xe,[o("div",Je,[o("div",Qe,[o("div",Ze,[t.graphDataCongregacao.length?(l(),w(i,{key:t.graphKeyCongregacao,title:"Distribuição de Apoio nas Unidades",labels:["Aprovaram Texto","Apoiam","Faltam Posicionar","Não Aprovam"],data:n.graphDataFormatted[0],colors:["#4caf50","#00A8FF","#FFC222","#FF0000"],centerText:t.totalUnidades.toString()},null,8,["data","centerText"])):h("",!0)]),o("div",et,[t.graphDataCongregacao.length?(l(),w(i,{key:t.graphKeyCongregacao,title:"Distribuição de Apoio nas Unidades",labels:["Aprovaram Texto","Apoiam"],data:[t.graphDataCongregacao.slice()[0],t.graphDataCongregacao.slice()[1]],colors:["#4caf50","#00A8FF"]},null,8,["data"])):h("",!0)])]),D(c,{headers:t.tableHeadersUnidades,rows:t.tableRowsUnidades,"description-key":"Comentários"},null,8,["headers","rows"])])])]),_:1})]),o("div",tt,[D(m,{showNewButton:!1},{title:C(()=>[o("div",st,[o("button",at,u(t.selectedUnidade||"Selecione a Unidade"),1),o("ul",ot,[o("li",null,[(l(!0),d(y,null,A(t.uniqueUnidadeSiglas,p=>(l(),d("button",{key:p,class:"dropdown-item",onClick:b=>n.selectUnidade(p)},u(p),9,rt))),128))])])])]),content:C(()=>[t.tableRowsDepartamentos.length?(l(),d("div",nt,[o("div",it,[o("div",lt,[e[6]||(e[6]=o("h6",null,"Aprovados",-1)),o("p",null,u(t.graphDataDepartamentos[0]),1)]),o("div",dt,[e[7]||(e[7]=o("h6",null,"Apoios",-1)),o("p",null,u(t.graphDataDepartamentos[1]),1)]),o("div",ct,[e[8]||(e[8]=o("h6",null,"Total Departamentos",-1)),o("p",null,u(t.totalDepartamentos),1)])]),o("div",pt,[o("div",ut,[o("div",ht,[o("div",mt,[t.graphDataDepartamentos.length?(l(),w(i,{centerText:"10",key:t.graphKeyDepartamentos,title:"Distribuição de Apoio nos Departamentos",labels:["Aprovaram Texto","Apoiam","Faltam Posicionar","Não Aprovam "],data:n.graphDataFormatted[1],colors:["#4caf50","#00A8FF","#FFC222","#FF0000"]},null,8,["data"])):h("",!0)]),o("div",ft,[t.graphDataDepartamentos.length?(l(),w(i,{centerText:"10",key:t.graphKeyDepartamentos,title:"Distribuição de Apoio nos Departamentos",labels:["Aprovaram Texto","Apoiam"],data:[t.graphDataDepartamentos.slice()[0],t.graphDataDepartamentos.slice()[1]],colors:["#4caf50","#00A8FF"]},null,8,["data"])):h("",!0)])]),D(c,{headers:t.tableHeadersDepartamentos,rows:t.tableRowsDepartamentos,"description-key":"Comentários"},null,8,["headers","rows"])])])])):(l(),d("p",gt,"Nenhum dado disponível para Departamentos."))]),_:1})])])])):h("",!0)])]),_:1})])}const bt=_(Ie,[["render",vt],["__scopeId","data-v-94170148"]]),Ct={name:"DashBoardView",components:{DashBoardComponent:bt}};function Dt(s,e,a,r,t,n){const i=x("DashBoardComponent");return l(),w(i)}const _t=_(Ct,[["render",Dt]]),yt={data(){return{email:"",password:"",errorMessage:""}},methods:{async login(){const s=U();try{await Z(s,this.email,this.password),this.$router.push("/")}catch(e){this.errorMessage="Erro ao fazer login: "+e.message}}}},At={class:"login-page"},wt={key:0};function xt(s,e,a,r,t,n){return l(),d("div",At,[e[6]||(e[6]=o("h1",null,"Login",-1)),o("form",{onSubmit:e[2]||(e[2]=H((...i)=>n.login&&n.login(...i),["prevent"]))},[o("div",null,[e[3]||(e[3]=o("label",{for:"email"},"E-mail",-1)),T(o("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=i=>t.email=i),required:""},null,512),[[N,t.email]])]),o("div",null,[e[4]||(e[4]=o("label",{for:"password"},"Senha",-1)),T(o("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=i=>t.password=i),required:""},null,512),[[N,t.password]])]),e[5]||(e[5]=o("button",{type:"submit"},"Entrar",-1))],32),t.errorMessage?(l(),d("p",wt,u(t.errorMessage),1)):h("",!0)])}const Tt=_(yt,[["render",xt]]),P=j({history:Y(),routes:[{path:"/login",name:"Login",component:Tt},{path:"/",name:"Dash",component:_t,meta:{requiresAuth:!0}}]});P.beforeEach((s,e,a)=>{const r=U();s.matched.some(n=>n.meta.requiresAuth)?V(r,n=>{n?a():a("/login")}):a()});const E=W(ne);E.use(P);E.mount("#app");
