import{o as a,c as r,a as t,b as m,w as b,u as C,d as D,R as N,e as B,t as f,f as p,r as k,n as U,F as g,g as y,h as _,i as A,j as S,v as G,k as T,l as V,m as E,p as I}from"./vue-vendor-DPC_1E7S.js";import{C as $,r as F}from"./chartjs-CVbuHZqe.js";import"./vendor-36KuJ4FT.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&c(u)}).observe(document,{childList:!0,subtree:!0});function o(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(s){if(s.ep)return;s.ep=!0;const i=o(s);fetch(s.href,i)}})();const v=(n,e)=>{const o=n.__vccOpts||n;for(const[c,s]of e)o[c]=s;return o},O={id:"app"},L={class:"app-header"},q={class:"app-nav"},P={class:"app-main"},R={__name:"App",setup(n){return(e,o)=>(a(),r("div",O,[t("header",L,[t("nav",q,[m(C(N),{to:"/",class:"nav-link"},{default:b(()=>o[0]||(o[0]=[D("Dashboard")])),_:1})])]),t("main",P,[m(C(B))])]))}},j=v(R,[["__scopeId","data-v-76cc63ea"]]),H={name:"GenericCard",props:{title:{type:String,required:!0},showNewButton:{type:Boolean,default:!0}}},K={class:"card generic-card"},M={class:"card-header d-flex justify-content-between align-items-center"},z={class:"mb-0"},J={class:"card-body"},W={key:0,class:"card-footer"};function Q(n,e,o,c,s,i){return a(),r("div",K,[t("div",M,[t("h5",z,f(o.title),1),o.showNewButton?(a(),r("button",{key:0,class:"btn btn-sm btn-primary",onClick:e[0]||(e[0]=u=>n.$emit("newItem"))},e[1]||(e[1]=[t("i",{class:"fas fa-plus"},null,-1),D(" Novo ")]))):p("",!0)]),t("div",J,[k(n.$slots,"content",{},()=>[e[2]||(e[2]=t("p",{class:"text-muted"},"Sem conteúdo disponível.",-1))])]),n.$slots.footer?(a(),r("div",W,[k(n.$slots,"footer",{},void 0)])):p("",!0)])}const X=v(H,[["render",Q],["__scopeId","data-v-f107b3e7"]]),Y={name:"GenericGraph",props:{title:{type:String,default:"Gráfico"},labels:{type:Array,required:!0},data:{type:Array,required:!0},colors:{type:Array,default:()=>["#4caf50","#2196f3","#ffeb3b","#f44336"]},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},mounted(){$.register(...F),new $(this.$refs.chartCanvas,{type:"doughnut",data:{labels:this.labels,datasets:[{data:this.data,backgroundColor:this.colors}]},options:{responsive:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(n){const e=n.label||"",o=n.raw||0;return`${e}: ${o}`}}}},onClick:(n,e)=>{if(e.length>0){const o=e[0].index,c=this.labels[o];this.$emit("section-clicked",c)}}}})}},Z={class:"graph-title"},ee={ref:"chartCanvas"};function te(n,e,o,c,s,i){return a(),r("div",{class:"generic-graph",style:U({width:o.width,height:o.height})},[t("h5",Z,f(o.title),1),t("canvas",ee,null,512)],4)}const se=v(Y,[["render",te],["__scopeId","data-v-6b17ac77"]]),ne={props:{headers:{type:Array,default:()=>[]},rows:{type:Array,default:()=>[]},descriptionKey:{type:String,default:"comments"}},data(){return{tooltipVisible:!1,tooltipContent:""}},methods:{getColumnAlignment(n){const e=this.headers.find(o=>o.value===n);return(e==null?void 0:e.align)||"text-center"},handleInfoClick(n){this.tooltipContent=n,this.tooltipVisible=!0}}},oe={class:"table-responsive"},ae={class:"table table-striped table-hover"},ie=["onClick"],re={key:0},le=["title"],de={key:1},ce={key:0},ue=["colspan"],pe={class:"tooltip-content"};function me(n,e,o,c,s,i){var u;return a(),r("div",oe,[t("table",ae,[t("thead",null,[t("tr",null,[(a(!0),r(g,null,y(o.headers,d=>(a(),r("th",{key:d.value,class:_(d.align||"text-center"),style:U({verticalAlign:d.verticalAlign||"middle"})},f(d.text),7))),128))])]),t("tbody",null,[(a(!0),r(g,null,y(o.rows||[],(d,w)=>(a(),r("tr",{key:w,onClick:l=>n.$emit("rowClick",d)},[(a(!0),r(g,null,y(d,(l,h)=>(a(),r("td",{key:h,class:_(i.getColumnAlignment(h))},[h===o.descriptionKey&&l?(a(),r("span",re,[t("span",{class:"info-icon",title:l},e[2]||(e[2]=[t("i",{class:"fas fa-info-circle"},null,-1)]),8,le)])):(a(),r("span",de,f(l),1))],2))),128))],8,ie))),128)),o.rows&&o.rows.length===0?(a(),r("tr",ce,[t("td",{colspan:((u=o.headers)==null?void 0:u.length)||1,class:"text-center"},"Nenhum dado disponível",8,ue)])):p("",!0)])]),s.tooltipVisible?(a(),r("div",{key:0,class:"tooltip-container",onClick:e[1]||(e[1]=d=>s.tooltipVisible=!1)},[t("div",pe,[t("p",null,f(s.tooltipContent),1),t("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=d=>s.tooltipVisible=!1)},"Fechar")])])):p("",!0)])}const fe=v(ne,[["render",me],["__scopeId","data-v-14dca645"]]),ve={name:"DashBoardComponent",components:{GenericCard:X,GenericGraph:se,GenericTable2:fe},data(){return{activeTabUnidades:"Aprovaram Texto",selectedUnit:"",units:[],departments:[],filteredDepartments:[],tableHeaders:[{text:"Departamento",value:"department",align:"left"},{text:"Unanimidade",value:"unanimity",align:"center"},{text:"Votos a Favor",value:"votesFor",align:"right"},{text:"Votos Contra",value:"votesAgainst",align:"right"},{text:"Abstenções",value:"abstentions",align:"center"}]}},methods:{async fetchData(){try{const n=await fetch("./data.json");if(!n.ok)throw new Error("Erro ao carregar o arquivo JSON");const e=await n.json();this.departments=e.departments,this.units=[...new Set(e.departments.map(o=>o.unit))]}catch(n){console.error("Erro ao carregar dados:",n)}},setActiveTabUnidades(n){this.activeTabUnidades=n},updateTableData(){this.filteredDepartments=this.departments.filter(n=>n.unit===this.selectedUnit).map(({unit:n,...e})=>e)}},mounted(){this.fetchData()}},he={class:"container-fluid layout-view"},_e={class:"mt-4"},be={class:"row"},ge={class:"col-md-6"},ye={class:"tabs-container mt-3"},Ae={class:"nav nav-tabs"},we={class:"nav-item"},Ce={class:"nav-item"},ke={class:"nav-item"},$e={class:"tab-content mt-3"},De={key:0,class:"tab-pane active"},Ue={key:1,class:"tab-pane active"},Te={key:2,class:"tab-pane active"},xe={class:"col-md-6"},Ne={class:"mb-4"},Be=["value"],Se={key:1,class:"text-center mt-3"};function Ge(n,e,o,c,s,i){const u=A("GenericGraph"),d=A("GenericCard"),w=A("GenericTable2");return a(),r("div",he,[m(d,{title:"Controle de Aprovação",showNewButton:!1},{content:b(()=>[t("div",_e,[t("div",be,[t("div",ge,[m(d,{title:"Unidades",showNewButton:!1},{content:b(()=>[m(u,{title:"Distribuição de Apoio nas Unidades",labels:["Aprovaram Texto","Apoiam Discussão","Não Apoiaram"],data:[8,4,30],colors:["#4caf50","#2196f3","#f44336"],width:"100%",height:"300px",onSectionClicked:i.setActiveTabUnidades},null,8,["onSectionClicked"]),t("div",ye,[t("ul",Ae,[t("li",we,[t("a",{class:_(["nav-link",{active:s.activeTabUnidades==="Aprovaram Texto"}]),onClick:e[0]||(e[0]=l=>i.setActiveTabUnidades("Aprovaram Texto")),href:"#"}," Aprovaram Texto ",2)]),t("li",Ce,[t("a",{class:_(["nav-link",{active:s.activeTabUnidades==="Apoiam Discussão"}]),onClick:e[1]||(e[1]=l=>i.setActiveTabUnidades("Apoiam Discussão")),href:"#"}," Apoiam Discussão ",2)]),t("li",ke,[t("a",{class:_(["nav-link",{active:s.activeTabUnidades==="Não Apoiaram"}]),onClick:e[2]||(e[2]=l=>i.setActiveTabUnidades("Não Apoiaram")),href:"#"}," Não Apoiaram ",2)])]),t("div",$e,[s.activeTabUnidades==="Aprovaram Texto"?(a(),r("div",De,e[5]||(e[5]=[t("ul",null,[t("li",null,"Museu de Arqueologia e Etnologia (MAE) (Unanimidade) (04.04.2024)"),t("li",null,"Escola de Enfermagem (EE) (Unanimidade) (09.10.2024)"),t("li",null,"Faculdade de Saúde Pública (FSP) (Unanimidade) (24.10.2024)"),t("li",null,"Instituto de Biociências (IB) 23 a favor, 3 abstenções (25.10.2024)")],-1)]))):p("",!0),s.activeTabUnidades==="Apoiam Discussão"?(a(),r("div",Ue,e[6]||(e[6]=[t("ul",null,[t("li",null,"Unidade A - Informações relevantes"),t("li",null,"Unidade B - Detalhes complementares")],-1)]))):p("",!0),s.activeTabUnidades==="Não Apoiaram"?(a(),r("div",Te,e[7]||(e[7]=[t("p",null,"Não há informações disponíveis para esta categoria.",-1)]))):p("",!0)])])]),_:1})]),t("div",xe,[m(d,{title:"Departamentos",showNewButton:!1},{content:b(()=>[e[10]||(e[10]=t("div",{class:"mb-4"},[t("h5",null,"Resumo dos Departamentos"),t("p",null,"28 departamentos discutiram o tema"),t("p",null,"26 deles aprovaram a proposta (20 por unanimidade)")],-1)),t("div",Ne,[e[9]||(e[9]=t("label",{for:"unit-dropdown",class:"form-label"},"Selecione uma Unidade:",-1)),S(t("select",{id:"unit-dropdown",class:"form-select","onUpdate:modelValue":e[3]||(e[3]=l=>s.selectedUnit=l),onChange:e[4]||(e[4]=(...l)=>i.updateTableData&&i.updateTableData(...l))},[e[8]||(e[8]=t("option",{value:"",disabled:""},"Escolha uma unidade",-1)),(a(!0),r(g,null,y(s.units,(l,h)=>(a(),r("option",{key:h,value:l},f(l),9,Be))),128))],544),[[G,s.selectedUnit]])]),s.filteredDepartments.length>0?(a(),T(w,{key:0,rows:s.filteredDepartments,headers:s.tableHeaders,descriptionKey:"comments"},null,8,["rows","headers"])):(a(),r("p",Se,"Nenhum departamento encontrado."))]),_:1})])])])]),_:1})])}const Ve=v(ve,[["render",Ge],["__scopeId","data-v-1088e700"]]),Ee={name:"DashBoardView",components:{DashBoardComponent:Ve}};function Ie(n,e,o,c,s,i){const u=A("DashBoardComponent");return a(),T(u)}const Fe=v(Ee,[["render",Ie]]),Oe=V({history:E(),routes:[{path:"/",name:"Dash",component:Fe}]}),x=I(j);x.use(Oe);x.mount("#app");
