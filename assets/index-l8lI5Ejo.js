import{o as i,c as r,a as t,b as m,w as b,u as w,d as x,R as T,e as N,t as v,f as p,r as k,F as y,g,n as _,h as B,i as A,j as S,v as E,k as $,l as I,m as V,p as G}from"./vue-vendor-DOPqkyAm.js";import{C as D,r as O}from"./chartjs-CVbuHZqe.js";import"./vendor-36KuJ4FT.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))u(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&u(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const h=(a,e)=>{const n=a.__vccOpts||a;for(const[u,s]of e)n[u]=s;return n},F={id:"app"},L={class:"app-header"},q={class:"app-nav"},P={class:"app-main"},H={__name:"App",setup(a){return(e,n)=>(i(),r("div",F,[t("header",L,[t("nav",q,[m(w(T),{to:"/",class:"nav-link"},{default:b(()=>n[0]||(n[0]=[x("Dashboard")])),_:1})])]),t("main",P,[m(w(N))])]))}},R=h(H,[["__scopeId","data-v-76cc63ea"]]),j={name:"GenericCard",props:{title:{type:String,required:!0},showNewButton:{type:Boolean,default:!0}}},K={class:"card generic-card"},M={class:"card-header d-flex justify-content-between align-items-center"},z={class:"mb-0"},J={class:"card-body"},W={key:0,class:"card-footer"};function Q(a,e,n,u,s,o){return i(),r("div",K,[t("div",M,[t("h5",z,v(n.title),1),n.showNewButton?(i(),r("button",{key:0,class:"btn btn-sm btn-primary",onClick:e[0]||(e[0]=c=>a.$emit("newItem"))},e[1]||(e[1]=[t("i",{class:"fas fa-plus"},null,-1),x(" Novo ")]))):p("",!0)]),t("div",J,[k(a.$slots,"content",{},()=>[e[2]||(e[2]=t("p",{class:"text-muted"},"Sem conteúdo disponível.",-1))])]),a.$slots.footer?(i(),r("div",W,[k(a.$slots,"footer",{},void 0)])):p("",!0)])}const X=h(j,[["render",Q],["__scopeId","data-v-f107b3e7"]]);D.register(...O);const Y={props:{title:{type:String,default:""},labels:{type:Array,required:!0},data:{type:Array,required:!0},colors:{type:Array,required:!0},width:{type:String,default:"100%"},height:{type:String,default:"400px"}},data(){return{selectedIndex:null}},mounted(){this.createChart()},methods:{createChart(){const a=this.$refs.chartCanvas.getContext("2d");this.chart=new D(a,{type:"doughnut",data:{labels:this.labels,datasets:[{data:this.data,backgroundColor:this.colors,hoverOffset:15}]},options:{responsive:!0,plugins:{tooltip:{enabled:!0}},onHover:(e,n)=>{if(n.length){const u=n[0],s=this.chart.data.datasets[u.datasetIndex];s.hoverOffset=20,this.chart.update()}},onLeave:()=>{this.chart.data.datasets.forEach((e,n)=>{e.hoverOffset=this.selectedIndex===n?20:15}),this.chart.update()},onClick:(e,n)=>{if(n.length){const s=n[0].index;this.selectedIndex=s,this.chart.data.datasets.forEach((c,l)=>{c.hoverOffset=l===this.selectedIndex?20:15}),this.chart.update();const o=this.labels[s];this.$emit("section-clicked",o)}}}})}},beforeUnmount(){this.chart&&this.chart.destroy()}},Z={ref:"chartCanvas"};function ee(a,e,n,u,s,o){return i(),r("div",null,[t("canvas",Z,null,512)])}const te=h(Y,[["render",ee],["__scopeId","data-v-92140e7c"]]),se={props:{headers:{type:Array,default:()=>[]},rows:{type:Array,default:()=>[]},descriptionKey:{type:String,default:"comments"}},data(){return{tooltipVisible:!1,tooltipContent:""}},methods:{getColumnAlignment(a){const e=this.headers.find(n=>n.value===a);return(e==null?void 0:e.align)||"text-center"},handleInfoClick(a){this.tooltipContent=a,this.tooltipVisible=!0}}},ne={class:"table-responsive"},ae={class:"table table-striped table-hover"},oe=["onClick"],ie={key:0},re=["title"],le={key:1},de={key:0},ce=["colspan"],ue={class:"tooltip-content"};function pe(a,e,n,u,s,o){var c;return i(),r("div",ne,[t("table",ae,[t("thead",null,[t("tr",null,[(i(!0),r(y,null,g(n.headers,l=>(i(),r("th",{key:l.value,class:_(l.align||"text-center"),style:B({verticalAlign:l.verticalAlign||"middle"})},v(l.text),7))),128))])]),t("tbody",null,[(i(!0),r(y,null,g(n.rows||[],(l,C)=>(i(),r("tr",{key:C,onClick:d=>a.$emit("rowClick",l)},[(i(!0),r(y,null,g(l,(d,f)=>(i(),r("td",{key:f,class:_(o.getColumnAlignment(f))},[f===n.descriptionKey&&d?(i(),r("span",ie,[t("span",{class:"info-icon",title:d},e[2]||(e[2]=[t("i",{class:"fas fa-info-circle"},null,-1)]),8,re)])):(i(),r("span",le,v(d),1))],2))),128))],8,oe))),128)),n.rows&&n.rows.length===0?(i(),r("tr",de,[t("td",{colspan:((c=n.headers)==null?void 0:c.length)||1,class:"text-center"},"Nenhum dado disponível",8,ce)])):p("",!0)])]),s.tooltipVisible?(i(),r("div",{key:0,class:"tooltip-container",onClick:e[1]||(e[1]=l=>s.tooltipVisible=!1)},[t("div",ue,[t("p",null,v(s.tooltipContent),1),t("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=l=>s.tooltipVisible=!1)},"Fechar")])])):p("",!0)])}const me=h(se,[["render",pe],["__scopeId","data-v-74f2b597"]]),he={name:"DashBoardComponent",components:{GenericCard:X,GenericGraph:te,GenericTable2:me},data(){return{activeTabUnidades:"Aprovaram Texto",selectedUnit:"",units:[],departments:[],filteredDepartments:[],tableHeaders:[{text:"Departamento",value:"department",align:"left"},{text:"Unanimidade",value:"unanimity",align:"center"},{text:"Votos a Favor",value:"votesFor",align:"right"},{text:"Votos Contra",value:"votesAgainst",align:"right"},{text:"Abstenções",value:"abstentions",align:"center"}]}},methods:{async fetchData(){try{const a=await fetch("./data.json");if(!a.ok)throw new Error("Erro ao carregar o arquivo JSON");const e=await a.json();this.departments=e.departments,this.units=[...new Set(e.departments.map(n=>n.unit))]}catch(a){console.error("Erro ao carregar dados:",a)}},setActiveTabUnidades(a){this.activeTabUnidades=a},updateTableData(){this.filteredDepartments=this.departments.filter(a=>a.unit===this.selectedUnit).map(({unit:a,...e})=>e)}},mounted(){this.fetchData()}},fe={class:"container-fluid layout-view"},ve={class:"mt-4"},_e={class:"row"},be={class:"col-md-6"},ye={class:"tabs-container mt-3"},ge={class:"nav nav-tabs"},Ae={class:"nav-item"},Ce={class:"nav-item"},we={class:"nav-item"},ke={class:"tab-content mt-3"},xe={key:0,class:"tab-pane active"},$e={key:1,class:"tab-pane active"},De={key:2,class:"tab-pane active"},Ue={class:"col-md-6"},Te={class:"mb-4"},Ne=["value"],Be={key:1,class:"text-center mt-3"};function Se(a,e,n,u,s,o){const c=A("GenericGraph"),l=A("GenericCard"),C=A("GenericTable2");return i(),r("div",fe,[m(l,{title:"Controle de Aprovação",showNewButton:!1},{content:b(()=>[t("div",ve,[t("div",_e,[t("div",be,[m(l,{title:"Unidades",showNewButton:!1},{content:b(()=>[m(c,{title:"Distribuição de Apoio nas Unidades",labels:["Aprovaram Texto","Apoiam Discussão","Não Apoiaram"],data:[8,4,30],colors:["#4caf50","#2196f3","#f44336"],width:"100%",height:"300px",onSectionClicked:o.setActiveTabUnidades},null,8,["onSectionClicked"]),t("div",ye,[t("ul",ge,[t("li",Ae,[t("a",{class:_(["nav-link",{active:s.activeTabUnidades==="Aprovaram Texto"}]),onClick:e[0]||(e[0]=d=>o.setActiveTabUnidades("Aprovaram Texto")),href:"#"}," Aprovaram Texto ",2)]),t("li",Ce,[t("a",{class:_(["nav-link",{active:s.activeTabUnidades==="Apoiam Discussão"}]),onClick:e[1]||(e[1]=d=>o.setActiveTabUnidades("Apoiam Discussão")),href:"#"}," Apoiam Discussão ",2)]),t("li",we,[t("a",{class:_(["nav-link",{active:s.activeTabUnidades==="Não Apoiaram"}]),onClick:e[2]||(e[2]=d=>o.setActiveTabUnidades("Não Apoiaram")),href:"#"}," Não Apoiaram ",2)])]),t("div",ke,[s.activeTabUnidades==="Aprovaram Texto"?(i(),r("div",xe,e[5]||(e[5]=[t("ul",null,[t("li",null,"Museu de Arqueologia e Etnologia (MAE) (Unanimidade) (04.04.2024)"),t("li",null,"Escola de Enfermagem (EE) (Unanimidade) (09.10.2024)"),t("li",null,"Faculdade de Saúde Pública (FSP) (Unanimidade) (24.10.2024)"),t("li",null,"Instituto de Biociências (IB) 23 a favor, 3 abstenções (25.10.2024)")],-1)]))):p("",!0),s.activeTabUnidades==="Apoiam Discussão"?(i(),r("div",$e,e[6]||(e[6]=[t("ul",null,[t("li",null,"Unidade A - Informações relevantes"),t("li",null,"Unidade B - Detalhes complementares")],-1)]))):p("",!0),s.activeTabUnidades==="Não Apoiaram"?(i(),r("div",De,e[7]||(e[7]=[t("p",null,"Não há informações disponíveis para esta categoria.",-1)]))):p("",!0)])])]),_:1})]),t("div",Ue,[m(l,{title:"Departamentos",showNewButton:!1},{content:b(()=>[e[10]||(e[10]=t("div",{class:"mb-4"},[t("h5",null,"Resumo dos Departamentos"),t("p",null,"28 departamentos discutiram o tema"),t("p",null,"26 deles aprovaram a proposta (20 por unanimidade)")],-1)),t("div",Te,[e[9]||(e[9]=t("label",{for:"unit-dropdown",class:"form-label"},"Selecione uma Unidade:",-1)),S(t("select",{id:"unit-dropdown",class:"form-select","onUpdate:modelValue":e[3]||(e[3]=d=>s.selectedUnit=d),onChange:e[4]||(e[4]=(...d)=>o.updateTableData&&o.updateTableData(...d))},[e[8]||(e[8]=t("option",{value:"",disabled:""},"Escolha uma unidade",-1)),(i(!0),r(y,null,g(s.units,(d,f)=>(i(),r("option",{key:f,value:d},v(d),9,Ne))),128))],544),[[E,s.selectedUnit]])]),s.filteredDepartments.length>0?(i(),$(C,{key:0,rows:s.filteredDepartments,headers:s.tableHeaders,descriptionKey:"comments"},null,8,["rows","headers"])):(i(),r("p",Be,"Nenhum departamento encontrado."))]),_:1})])])])]),_:1})])}const Ee=h(he,[["render",Se],["__scopeId","data-v-a6f885bd"]]),Ie={name:"DashBoardView",components:{DashBoardComponent:Ee}};function Ve(a,e,n,u,s,o){const c=A("DashBoardComponent");return i(),$(c)}const Ge=h(Ie,[["render",Ve]]),Oe=I({history:V(),routes:[{path:"/",name:"Dash",component:Ge}]}),U=G(R);U.use(Oe);U.mount("#app");
